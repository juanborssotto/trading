(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["graph~trade"],{"2a7c":function(t,e,o){},3835:function(t,e,o){"use strict";function n(t){if(Array.isArray(t))return t}o.d(e,"a",(function(){return s}));o("a4d3"),o("e01a"),o("d3b7"),o("d28b"),o("3ca3"),o("ddb0");function i(t,e){var o=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=o){var n,i,a=[],r=!0,s=!1;try{for(o=o.call(t);!(r=(n=o.next()).done);r=!0)if(a.push(n.value),e&&a.length===e)break}catch(l){s=!0,i=l}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw i}}return a}}var a=o("06c5");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return n(t)||i(t,e)||Object(a["a"])(t,e)||r()}},"3cdd":function(t,e,o){"use strict";o("2a7c")},"4fad":function(t,e,o){var n=o("23e7"),i=o("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"6f53":function(t,e,o){var n=o("83ab"),i=o("df75"),a=o("fc6a"),r=o("d1e7").f,s=function(t){return function(e){var o,s=a(e),l=i(s),c=l.length,u=0,h=[];while(c>u)o=l[u++],n&&!r.call(s,o)||h.push(t?[o,s[o]]:s[o]);return h}};t.exports={entries:s(!0),values:s(!1)}},"7d02":function(t,e,o){"use strict";o("8d90")},"8d90":function(t,e,o){},c740:function(t,e,o){"use strict";var n=o("23e7"),i=o("b727").findIndex,a=o("44d2"),r="findIndex",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(r)},d80d:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-fluid flex-column align-items-stretch d-flex h-100"},[o("b-modal",{attrs:{id:"plotConfiguratorModal",title:"Plot Configurator","ok-only":"","hide-backdrop":"","button-size":"sm"}},[o("PlotConfigurator",{attrs:{columns:t.datasetColumns},model:{value:t.plotConfig,callback:function(e){t.plotConfig=e},expression:"plotConfig"}})],1),o("div",{staticClass:"row mr-0"},[o("div",{staticClass:"col-mb-2 ml-2"},[o("b-select",{attrs:{options:t.availablePairs,size:"sm"},on:{change:t.refresh},model:{value:t.pair,callback:function(e){t.pair=e},expression:"pair"}})],1),o("div",{staticClass:"col-mb-2 ml-2 mr-2"},[o("b-button",{attrs:{disabled:!t.pair,size:"sm"},on:{click:t.refresh}},[t._v("↻")])],1),t.hasDataset?o("div",{staticClass:"col-mb-2 ml-2 mr-2"},[o("small",[t._v("Buysignals: "+t._s(t.dataset.buy_signals))]),o("small",{staticClass:"ml-2"},[t._v("SellSignals: "+t._s(t.dataset.sell_signals))])]):t._e(),o("div",{staticClass:"col-mb-2 ml-auto mr-2"},[o("b-select",{attrs:{options:t.availablePlotConfigNames,size:"sm"},on:{change:t.plotConfigChanged},model:{value:t.plotConfigName,callback:function(e){t.plotConfigName=e},expression:"plotConfigName"}})],1),o("div",{staticClass:"col-mb-2 mr-2 d-flex align-items-center"},[o("b-checkbox",{attrs:{title:"Use UTC for graph"},model:{value:t.useUTC,callback:function(e){t.useUTC=e},expression:"useUTC"}},[t._v("useUTC")])],1),o("div",{staticClass:"col-mb-2 mr-1"},[o("b-button",{attrs:{size:"sm",title:"Plot configurator"},on:{click:t.showConfigurator}},[t._v("⚙")])],1)]),o("div",{staticClass:"row mr-1 ml-1 h-100"},[t.hasDataset?o("CandleChart",{attrs:{dataset:t.dataset,trades:t.trades,"plot-config":t.plotConfig,"use-u-t-c":t.useUTC,theme:t.getChartTheme}}):o("label",{staticStyle:{margin:"auto auto","font-size":"1.5rem"}},[t._v("No data available")])],1)],1)},i=[],a=o("3835"),r=o("5530"),s=o("d4ec"),l=o("bee2"),c=o("262e"),u=o("2caf"),h=(o("99af"),o("7db0"),o("9ab4")),p=o("1b40"),d=o("4bb5"),f=o("ebe2"),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row flex-grow-1 chart-wrapper"},[t.hasData?o("v-chart",{ref:"candleChart",attrs:{theme:t.theme,autoresize:"","manual-update":""}}):t._e()],1)},m=[],y=o("53ca"),v=(o("4de4"),o("c740"),o("b64b"),o("159b"),o("4fad"),o("d3b7"),o("25f0"),function(){return"#".concat((16777215*Math.random()<<0).toString(16))}),b=2,x=3;function _(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,n=e%t;return e-n+(o===b?t:0)}var O=o("5c7f"),C=o("22b4"),w=o("f95e"),j=o("7fae"),S=o("6d8b"),M=o("e887"),A=o("2306"),T=o("7d6c"),I=o("cbe5"),k=o("b0af"),D=["color","borderColor"],P=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.render=function(t,e,o){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,o){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,o,n){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),o=this._data,n=this.group,i=e.getLayout("isSimpleBox"),a=t.get("clip",!0),r=t.coordinateSystem,s=r.getArea&&r.getArea();this._data||n.removeAll(),e.diff(o).add((function(o){if(e.hasValue(o)){var r=e.getItemLayout(o);if(a&&E(s,r))return;var l=R(r,o,!0);A["initProps"](l,{shape:{points:r.ends}},t,o),N(l,e,o,i),n.add(l),e.setItemGraphicEl(o,l)}})).update((function(r,l){var c=o.getItemGraphicEl(l);if(e.hasValue(r)){var u=e.getItemLayout(r);a&&E(s,u)?n.remove(c):(c?A["updateProps"](c,{shape:{points:u.ends}},t,r):c=R(u,r),N(c,e,r,i),n.add(c),e.setItemGraphicEl(r,c))}else n.remove(c)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&n.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),W(t,this.group);var e=t.get("clip",!0)?Object(k["a"])(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){var o,n=e.getData(),i=n.getLayout("isSimpleBox");while(null!=(o=t.next())){var a=n.getItemLayout(o),r=R(a,o);N(r,n,o,i),r.incremental=!0,this.group.add(r)}},e.prototype._incrementalRenderLarge=function(t,e){W(e,this.group,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(M["a"]),L=function(){function t(){}return t}(),z=function(t){function e(e){var o=t.call(this,e)||this;return o.type="normalCandlestickBox",o}return Object(j["a"])(e,t),e.prototype.getDefaultShape=function(){return new L},e.prototype.buildPath=function(t,e){var o=e.points;this.__simpleBox?(t.moveTo(o[4][0],o[4][1]),t.lineTo(o[6][0],o[6][1])):(t.moveTo(o[0][0],o[0][1]),t.lineTo(o[1][0],o[1][1]),t.lineTo(o[2][0],o[2][1]),t.lineTo(o[3][0],o[3][1]),t.closePath(),t.moveTo(o[4][0],o[4][1]),t.lineTo(o[5][0],o[5][1]),t.moveTo(o[6][0],o[6][1]),t.lineTo(o[7][0],o[7][1]))},e}(I["b"]);function R(t,e,o){var n=t.ends;return new z({shape:{points:o?B(n,t):n},z2:100})}function E(t,e){for(var o=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){o=!1;break}return o}function N(t,e,o,n){var i=e.getItemModel(o);t.useStyle(e.getItemVisual(o,"style")),t.style.strokeNoScale=!0,t.__simpleBox=n,Object(T["E"])(t,i)}function B(t,e){return S["E"](t,(function(t){return t=t.slice(),t[1]=e.initBaseline,t}))}var V=function(){function t(){}return t}(),Z=function(t){function e(e){var o=t.call(this,e)||this;return o.type="largeCandlestickBox",o}return Object(j["a"])(e,t),e.prototype.getDefaultShape=function(){return new V},e.prototype.buildPath=function(t,e){for(var o=e.points,n=0;n<o.length;)if(this.__sign===o[n++]){var i=o[n++];t.moveTo(i,o[n++]),t.lineTo(i,o[n++])}else n+=3},e}(I["b"]);function W(t,e,o){var n=t.getData(),i=n.getLayout("largePoints"),a=new Z({shape:{points:i},__sign:1});e.add(a);var r=new Z({shape:{points:i},__sign:-1});e.add(r),H(1,a,t,n),H(-1,r,t,n),o&&(a.incremental=!0,r.incremental=!0)}function H(t,e,o,n){var i=o.get(["itemStyle",t>0?"borderColor":"borderColor0"])||o.get(["itemStyle",t>0?"color":"color0"]),a=o.getModel("itemStyle").getItemStyle(D);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var G=P,F=o("4f85"),Y=o("b1d4"),X=o("6179");function U(t,e,o){e=Object(S["r"])(e)&&{coordDimensions:e}||Object(S["l"])({},e);var n=t.getSource(),i=Object(Y["a"])(n,e),a=new X["a"](i,t);return a.initData(n,o),a}var q=o("2f45"),J=o("0f99"),$=function(){function t(){}return t.prototype.getInitialData=function(t,e){var o,n,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),r=i.get("type"),s=a.get("type");"category"===r?(t.layout="horizontal",o=i.getOrdinalMeta(),n=!0):"category"===s?(t.layout="vertical",o=a.getOrdinalMeta(),n=!0):t.layout=t.layout||"horizontal";var l=["x","y"],c="horizontal"===t.layout?0:1,u=this._baseAxisDim=l[c],h=l[1-c],p=[i,a],d=p[c].get("type"),f=p[1-c].get("type"),g=t.data;if(g&&n){var m=[];S["j"](g,(function(t,e){var o;S["r"](t)?(o=t.slice(),t.unshift(e)):S["r"](t.value)?(o=t.value.slice(),t.value.unshift(e)):o=t,m.push(o)})),t.data=m}var y=this.defaultValueDimensions,v=[{name:u,type:Object(q["a"])(d),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Object(q["a"])(f),dimsDef:y.slice()}];return U(this,{coordDimensions:v,dimensionsCount:y.length+1,encodeDefaulter:S["h"](J["c"],v,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),K=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],o}return Object(j["a"])(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,o){var n=e.getItemLayout(t);return n&&o.rect(n.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(F["a"]);Object(S["G"])(K,$,!0);var Q=K;function tt(t){t&&S["r"](t.series)&&S["j"](t.series,(function(t){S["y"](t)&&"k"===t.type&&(t.type="candlestick")}))}var et=o("cccd"),ot=["itemStyle","borderColor"],nt=["itemStyle","borderColor0"],it=["itemStyle","color"],at=["itemStyle","color0"],rt={seriesType:"candlestick",plan:Object(et["a"])(),performRawSeries:!0,reset:function(t,e){function o(t,e){return e.get(t>0?it:at)}function n(t,e){return e.get(t>0?ot:nt)}if(!e.isSeriesFiltered(t)){var i=t.pipelineContext.large;return!i&&{progress:function(t,e){var i;while(null!=(i=t.next())){var a=e.getItemModel(i),r=e.getItemLayout(i).sign,s=a.getItemStyle();s.fill=o(r,a),s.stroke=n(r,a)||s.fill;var l=e.ensureUniqueItemVisual(i,"style");Object(S["l"])(l,s)}}}}}},st=rt,lt=o("3842"),ct="undefined"!==typeof Float32Array?Float32Array:Array,ut={seriesType:"candlestick",plan:Object(et["a"])(),reset:function(t){var e=t.coordinateSystem,o=t.getData(),n=pt(t,o),i=0,a=1,r=["x","y"],s=o.mapDimension(r[i]),l=o.mapDimensionsAll(r[a]),c=l[0],u=l[1],h=l[2],p=l[3];if(o.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(null==s||l.length<4))return{progress:t.pipelineContext.large?f:d};function d(t,o){var r;while(null!=(r=t.next())){var l=o.get(s,r),d=o.get(c,r),f=o.get(u,r),g=o.get(h,r),m=o.get(p,r),y=Math.min(d,f),v=Math.max(d,f),b=w(y,l),x=w(v,l),_=w(g,l),O=w(m,l),C=[];j(C,x,0),j(C,b,1),C.push(M(O),M(x),M(_),M(b)),o.setItemLayout(r,{sign:ht(o,r,d,f,u),initBaseline:d>f?x[a]:b[a],ends:C,brushRect:S(g,m,l)})}function w(t,o){var n=[];return n[i]=o,n[a]=t,isNaN(o)||isNaN(t)?[NaN,NaN]:e.dataToPoint(n)}function j(t,e,o){var a=e.slice(),r=e.slice();a[i]=Object(A["subPixelOptimize"])(a[i]+n/2,1,!1),r[i]=Object(A["subPixelOptimize"])(r[i]-n/2,1,!0),o?t.push(a,r):t.push(r,a)}function S(t,e,o){var r=w(t,o),s=w(e,o);return r[i]-=n/2,s[i]-=n/2,{x:r[0],y:r[1],width:a?n:s[0]-r[0],height:a?s[1]-r[1]:n}}function M(t){return t[i]=Object(A["subPixelOptimize"])(t[i],1),t}}function f(t,o){var n,r,l=new ct(4*t.count),d=0,f=[],g=[];while(null!=(r=t.next())){var m=o.get(s,r),y=o.get(c,r),v=o.get(u,r),b=o.get(h,r),x=o.get(p,r);isNaN(m)||isNaN(b)||isNaN(x)?(l[d++]=NaN,d+=3):(l[d++]=ht(o,r,y,v,u),f[i]=m,f[a]=b,n=e.dataToPoint(f,null,g),l[d++]=n?n[0]:NaN,l[d++]=n?n[1]:NaN,f[a]=x,n=e.dataToPoint(f,null,g),l[d++]=n?n[1]:NaN)}o.setLayout("largePoints",l)}}};function ht(t,e,o,n,i){var a;return a=o>n?-1:o<n?1:e>0?t.get(i,e-1)<=n?1:-1:1,a}function pt(t,e){var o,n=t.getBaseAxis(),i="category"===n.type?n.getBandWidth():(o=n.getExtent(),Math.abs(o[1]-o[0])/e.count()),a=Object(lt["m"])(Object(S["L"])(t.get("barMaxWidth"),i),i),r=Object(lt["m"])(Object(S["L"])(t.get("barMinWidth"),1),i),s=t.get("barWidth");return null!=s?Object(lt["m"])(s,i):Math.max(Math.min(i/2,a),r)}var dt=ut;function ft(t){t.registerChartView(G),t.registerSeriesModel(Q),t.registerPreprocessor(tt),t.registerVisual(st),t.registerLayout(dt)}var gt=o("4cb5"),mt=o("3620"),yt=o("3301"),vt=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.hasSymbolVisual=!0,o}return Object(j["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(yt["a"])(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,o){return o.point(e.getItemLayout(t))},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},e}(F["a"]),bt=vt,xt=o("f706"),_t=o("2dc5"),Ot=o("a15a"),Ct=o("392f"),wt=o("861c"),jt=4,St=function(){function t(){}return t}(),Mt=function(t){function e(e){return t.call(this,e)||this}return Object(j["a"])(e,t),e.prototype.getDefaultShape=function(){return new St},e.prototype.buildPath=function(t,e){var o=e.points,n=e.size,i=this.symbolProxy,a=i.shape,r=t.getContext?t.getContext():t,s=r&&n[0]<jt;if(s)this._ctx=r;else{this._ctx=null;for(var l=0;l<o.length;){var c=o[l++],u=o[l++];isNaN(c)||isNaN(u)||(this.softClipShape&&!this.softClipShape.contain(c,u)||(a.x=c-n[0]/2,a.y=u-n[1]/2,a.width=n[0],a.height=n[1],i.buildPath(t,a,!0)))}}},e.prototype.afterBrush=function(){var t=this.shape,e=t.points,o=t.size,n=this._ctx;if(n)for(var i=0;i<e.length;){var a=e[i++],r=e[i++];isNaN(a)||isNaN(r)||(this.softClipShape&&!this.softClipShape.contain(a,r)||n.fillRect(a-o[0]/2,r-o[1]/2,o[0],o[1]))}},e.prototype.findDataIndex=function(t,e){for(var o=this.shape,n=o.points,i=o.size,a=Math.max(i[0],4),r=Math.max(i[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,c=n[l]-a/2,u=n[l+1]-r/2;if(t>=c&&e>=u&&t<=c+a&&e<=u+r)return s}return-1},e}(I["b"]),At=function(){function t(){this.group=new _t["a"]}return t.prototype.isPersistent=function(){return!this._incremental},t.prototype.updateData=function(t,e){this.group.removeAll();var o=new Mt({rectHover:!0,cursor:"default"});o.setShape({points:t.getLayout("points")}),this._setCommon(o,t,!1,e),this.group.add(o),this._incremental=null},t.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var o=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,o)}t.setShape("points",e)}))}},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Ct["a"]({silent:!0})),this.group.add(this._incremental)):this._incremental=null},t.prototype.incrementalUpdate=function(t,e,o){var n;this._incremental?(n=new Mt,this._incremental.addDisplayable(n,!0)):(n=new Mt({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end}),n.incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,!!this._incremental,o)},t.prototype._setCommon=function(t,e,o,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Object(Ot["a"])(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var r=t.shape.size[0]<jt;t.useStyle(i.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;if(l&&t.setColor(l),!o){var c=Object(wt["a"])(t);c.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){c.dataIndex=null;var o=t.findDataIndex(e.offsetX,e.offsetY);o>=0&&(c.dataIndex=o+(t.startIndex||0))}))}},t.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},t.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t}(),Tt=At,It=o("87c3"),kt=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.render=function(t,e,o){var n=t.getData(),i=this._updateSymbolDraw(n,t);i.updateData(n,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,o){var n=t.getData(),i=this._updateSymbolDraw(n,t);i.incrementalPrepareUpdate(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,o){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,o){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var i=Object(It["a"])("").reset(t,e,o);i.progress&&i.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,o=e&&e.getArea&&e.getArea();return t.get("clip",!0)?o:null},e.prototype._updateSymbolDraw=function(t,e){var o=this._symbolDraw,n=e.pipelineContext,i=n.large;return o&&i===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=i?new Tt:new xt["a"],this._isLargeDraw=i,this.group.removeAll()),this.group.add(o.group),o},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(M["a"]),Dt=kt,Pt=o("b12f"),Lt=o("6cb7"),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Lt["a"]),Rt=zt,Et=o("c7a2"),Nt=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}(),Bt=o("e0d3"),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Bt["b"]).models[0]},e.type="cartesian2dAxis",e}(Lt["a"]);S["G"](Vt,Nt);var Zt={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Wt=S["F"]({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Zt),Ht=S["F"]({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Zt),Gt=S["F"]({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ht),Ft=S["i"]({scale:!0,logBase:10},Ht),Yt={category:Wt,value:Ht,time:Gt,log:Ft},Xt=o("f934"),Ut=o("8e43"),qt={value:1,category:1,time:1,log:1};function Jt(t,e,o,n){Object(S["j"])(qt,(function(i,a){var r=Object(S["F"])(Object(S["F"])({},Yt[a],!0),n,!0),s=function(t){function o(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var i=t.apply(this,o)||this;return i.type=e+"Axis."+a,i}return Object(j["a"])(o,t),o.prototype.mergeDefaultAndTheme=function(t,e){var o=Object(Xt["b"])(this),n=o?Object(Xt["c"])(t):{},i=e.getTheme();Object(S["F"])(t,i.get(a+"Axis")),Object(S["F"])(t,this.getDefaultOption()),t.type=$t(t),o&&Object(Xt["e"])(t,n,o)},o.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=Ut["a"].createByAxisModel(this))},o.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},o.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},o.type=e+"Axis."+a,o.defaultOption=r,o}(o);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",$t)}function $t(t){return t.type||(t.data?"category":"value")}var Kt=o("697e"),Qt=o("9850"),te=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return S["E"](this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),S["m"](this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),ee=te,oe=o("1687"),ne=o("401b"),ie=["x","y"];function ae(t){return"interval"===t.type||"time"===t.type}var re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=ie,e}return Object(j["a"])(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(ae(t)&&ae(e)){var o=t.getExtent(),n=e.getExtent(),i=this.dataToPoint([o[0],n[0]]),a=this.dataToPoint([o[1],n[1]]),r=o[1]-o[0],s=n[1]-n[0];if(r&&s){var l=(a[0]-i[0])/r,c=(a[1]-i[1])/s,u=i[0]-o[0]*l,h=i[1]-n[0]*c,p=this._transform=[l,0,0,c,u,h];this._invTransform=Object(oe["d"])([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),o=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&o.contain(o.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,o){o=o||[];var n=t[0],i=t[1];if(this._transform&&null!=n&&isFinite(n)&&null!=i&&isFinite(i))return Object(ne["b"])(o,t,this._transform);var a=this.getAxis("x"),r=this.getAxis("y");return o[0]=a.toGlobalCoord(a.dataToCoord(n,e)),o[1]=r.toGlobalCoord(r.dataToCoord(i,e)),o},e.prototype.clampData=function(t,e){var o=this.getAxis("x").scale,n=this.getAxis("y").scale,i=o.getExtent(),a=n.getExtent(),r=o.parse(t[0]),s=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(i[0],i[1]),r),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},e.prototype.pointToData=function(t,e){var o=[];if(this._invTransform)return Object(ne["b"])(o,t,this._invTransform);var n=this.getAxis("x"),i=this.getAxis("y");return o[0]=n.coordToData(n.toLocalCoord(t[0]),e),o[1]=i.coordToData(i.toLocalCoord(t[1]),e),o},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),o=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]),i=Math.max(t[0],t[1])-o,a=Math.max(e[0],e[1])-n;return new Qt["a"](o,n,i,a)},e}(ee),se=re,le=o("e86a"),ce=Object(Bt["n"])();function ue(t){return"category"===t.type?pe(t):ge(t)}function he(t,e){return"category"===t.type?fe(t,e):{ticks:S["E"](t.scale.getTicks(),(function(t){return t.value}))}}function pe(t){var e=t.getLabelModel(),o=de(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:o.labelCategoryInterval}:o}function de(t,e){var o,n,i=me(t,"labels"),a=Object(Kt["e"])(e),r=ye(i,a);return r||(S["u"](a)?o=Ce(t,a):(n="auto"===a?be(t):a,o=Oe(t,n)),ve(i,a,{labels:o,labelCategoryInterval:n}))}function fe(t,e){var o,n,i=me(t,"ticks"),a=Object(Kt["e"])(e),r=ye(i,a);if(r)return r;if(e.get("show")&&!t.scale.isBlank()||(o=[]),S["u"](a))o=Ce(t,a,!0);else if("auto"===a){var s=de(t,t.getLabelModel());n=s.labelCategoryInterval,o=S["E"](s.labels,(function(t){return t.tickValue}))}else n=a,o=Oe(t,n,!0);return ve(i,a,{ticks:o,tickCategoryInterval:n})}function ge(t){var e=t.scale.getTicks(),o=Object(Kt["g"])(t);return{labels:S["E"](e,(function(e,n){return{formattedLabel:o(e,n),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function me(t,e){return ce(t)[e]||(ce(t)[e]=[])}function ye(t,e){for(var o=0;o<t.length;o++)if(t[o].key===e)return t[o].value}function ve(t,e,o){return t.push({key:e,value:o}),o}function be(t){var e=ce(t).autoInterval;return null!=e?e:ce(t).autoInterval=t.calculateCategoryInterval()}function xe(t){var e=_e(t),o=Object(Kt["g"])(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),r=i.count();if(a[1]-a[0]<1)return 0;var s=1;r>40&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(n)),h=Math.abs(c*Math.sin(n)),p=0,d=0;l<=a[1];l+=s){var f=0,g=0,m=le["e"](o({value:l}),e.font,"center","top");f=1.3*m.width,g=1.3*m.height,p=Math.max(p,f,7),d=Math.max(d,g,7)}var y=p/u,v=d/h;isNaN(y)&&(y=1/0),isNaN(v)&&(v=1/0);var b=Math.max(0,Math.floor(Math.min(y,v))),x=ce(t.model),_=t.getExtent(),O=x.lastAutoInterval,C=x.lastTickCount;return null!=O&&null!=C&&Math.abs(O-b)<=1&&Math.abs(C-r)<=1&&O>b&&x.axisExtent0===_[0]&&x.axisExtent1===_[1]?b=O:(x.lastTickCount=r,x.lastAutoInterval=b,x.axisExtent0=_[0],x.axisExtent1=_[1]),b}function _e(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Oe(t,e,o){var n=Object(Kt["g"])(t),i=t.scale,a=i.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=a[0],u=i.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=Object(Kt["i"])(t),p=r.get("showMinLabel")||h,d=r.get("showMaxLabel")||h;p&&c!==a[0]&&g(a[0]);for(var f=c;f<=a[1];f+=l)g(f);function g(t){var e={value:t};s.push(o?t:{formattedLabel:n(e),rawLabel:i.getLabel(e),tickValue:t})}return d&&f-l!==a[1]&&g(a[1]),s}function Ce(t,e,o){var n=t.scale,i=Object(Kt["g"])(t),a=[];return S["j"](n.getTicks(),(function(t){var r=n.getLabel(t),s=t.value;e(t.value,r)&&a.push(o?s:{formattedLabel:i(t),rawLabel:r,tickValue:s})})),a}var we=[0,1],je=function(){function t(t,e,o){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=o||[0,0]}return t.prototype.contain=function(t){var e=this._extent,o=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=o&&t<=n},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Object(lt["d"])(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var o=this._extent;o[0]=t,o[1]=e},t.prototype.dataToCoord=function(t,e){var o=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&(o=o.slice(),Se(o,n.count())),Object(lt["i"])(t,we,o,e)},t.prototype.coordToData=function(t,e){var o=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(o=o.slice(),Se(o,n.count()));var i=Object(lt["i"])(t,o,we,e);return this.scale.scale(i)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),o=he(this,e),n=o.ticks,i=Object(S["E"])(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),a=e.get("alignWithLabel");return Me(this,i,a,t.clamp),i},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var o=this.scale.getMinorTicks(e),n=Object(S["E"])(o,(function(t){return Object(S["E"])(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return n},t.prototype.getViewLabels=function(){return ue(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),o=e[1]-e[0]+(this.onBand?1:0);0===o&&(o=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/o},t.prototype.calculateCategoryInterval=function(){return xe(this)},t}();function Se(t,e){var o=t[1]-t[0],n=e,i=o/n/2;t[0]+=i,t[1]-=i}function Me(t,e,o,n){var i=e.length;if(t.onBand&&!o&&i){var a,r,s=t.getExtent();if(1===i)e[0].coord=s[0],a=e[1]={coord:s[0]};else{var l=e[i-1].tickValue-e[0].tickValue,c=(e[i-1].coord-e[0].coord)/l;Object(S["j"])(e,(function(t){t.coord-=c/2}));var u=t.scale.getExtent();r=1+u[1]-e[i-1].tickValue,a={coord:e[i-1].coord+c*r},e.push(a)}var h=s[0]>s[1];p(e[0].coord,s[0])&&(n?e[0].coord=s[0]:e.shift()),n&&p(s[0],e[0].coord)&&e.unshift({coord:s[0]}),p(s[1],a.coord)&&(n?a.coord=s[1]:e.pop()),n&&p(a.coord,s[1])&&e.push({coord:s[1]})}function p(t,e){return t=Object(lt["q"])(t),e=Object(lt["q"])(e),h?t>e:t<e}}var Ae=je,Te=function(t){function e(e,o,n,i,a){var r=t.call(this,e,o,n)||this;return r.index=0,r.type=i||"value",r.position=a||"bottom",r}return Object(j["a"])(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Ae),Ie=Te,ke=o("0156"),De=function(){function t(t,e,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ie,this._initCartesian(t,e,o),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var o=this._axesMap;this._updateScale(t,this.model),Object(S["j"])(o.x,(function(t){Object(Kt["h"])(t.scale,t.model)})),Object(S["j"])(o.y,(function(t){Object(Kt["h"])(t.scale,t.model)}));var n={};Object(S["j"])(o.x,(function(t){Le(o,"y",t,n)})),Object(S["j"])(o.y,(function(t){Le(o,"x",t,n)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,o){var n=t.getBoxLayoutParams(),i=!o&&t.get("containLabel"),a=Object(Xt["d"])(n,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;function s(){Object(S["j"])(r,(function(t){var e=t.isHorizontal(),o=e?[0,a.width]:[0,a.height],n=t.inverse?1:0;t.setExtent(o[n],o[1-n]),Re(t,e?a.x:a.y)}))}s(),i&&(Object(S["j"])(r,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=Object(Kt["b"])(t);if(e){var o=t.isHorizontal()?"height":"width",n=t.model.get(["axisLabel","margin"]);a[o]-=e[o]+n,"top"===t.position?a.y+=e.height+n:"left"===t.position&&(a.x+=e.width+n)}}})),s()),Object(S["j"])(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var o=this._axesMap[t];if(null!=o)return o[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var o="x"+t+"y"+e;return this._coordsMap[o]}Object(S["y"])(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,o){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(o):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(o)):null},t.prototype.convertFromPixel=function(t,e,o){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(o):n.axis?n.axis.coordToData(n.axis.toLocalCoord(o)):null},t.prototype._findConvertTarget=function(t){var e,o,n=t.seriesModel,i=t.xAxisModel||n&&n.getReferringComponents("xAxis",Bt["b"]).models[0],a=t.yAxisModel||n&&n.getReferringComponents("yAxis",Bt["b"]).models[0],r=t.gridModel,s=this._coordsList;if(n)e=n.coordinateSystem,Object(S["p"])(s,e)<0&&(e=null);else if(i&&a)e=this.getCartesian(i.componentIndex,a.componentIndex);else if(i)o=this.getAxis("x",i.componentIndex);else if(a)o=this.getAxis("y",a.componentIndex);else if(r){var l=r.coordinateSystem;l===this&&(e=this._coordsList[0])}return{cartesian:e,axis:o}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,o){var n=this,i=this,a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(o,n){if(Pe(o,t)){var l=o.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var c=new Ie(e,Object(Kt["a"])(o),[0,0],o.get("type"),l),u="category"===c.type;c.onBand=u&&o.get("boundaryGap"),c.inverse=o.get("inverse"),o.axis=c,c.model=o,c.grid=i,c.index=n,i._axesList.push(c),r[e][n]=c,s[e]++}}}this._axesMap=r,Object(S["j"])(r.x,(function(e,o){Object(S["j"])(r.y,(function(i,a){var r="x"+o+"y"+a,s=new se(r);s.master=n,s.model=t,n._coordsMap[r]=s,n._coordsList.push(s),s.addAxis(e),s.addAxis(i)}))}))},t.prototype._updateScale=function(t,e){function o(t,e){Object(S["j"])(Object(Kt["d"])(t,e.dim),(function(o){e.scale.unionExtentFromData(t,o)}))}Object(S["j"])(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(Object(ke["b"])(t)){var n=Object(ke["a"])(t),i=n.xAxisModel,a=n.yAxisModel;if(!Pe(i,e)||!Pe(a,e))return;var r=this.getCartesian(i.componentIndex,a.componentIndex),s=t.getData(),l=r.getAxis("x"),c=r.getAxis("y");"list"===s.type&&(o(s,l),o(s,c))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],o=[];return Object(S["j"])(this.getCartesians(),(function(n){var i=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),a=n.getOtherAxis(i);Object(S["p"])(e,i)<0&&e.push(i),Object(S["p"])(o,a)<0&&o.push(a)})),{baseAxes:e,otherAxes:o}},t.create=function(e,o){var n=[];return e.eachComponent("grid",(function(i,a){var r=new t(i,e,o);r.name="grid_"+a,r.resize(i,o,!0),i.coordinateSystem=r,n.push(r)})),e.eachSeries((function(t){if(Object(ke["b"])(t)){var e=Object(ke["a"])(t),o=e.xAxisModel,n=e.yAxisModel,i=o.getCoordSysModel();0;var a=i.coordinateSystem;t.coordinateSystem=a.getCartesian(o.componentIndex,n.componentIndex)}})),n},t.dimensions=ie,t}();function Pe(t,e){return t.getCoordSysModel()===e}function Le(t,e,o,n){o.getAxesOnZeroOf=function(){return i?[i]:[]};var i,a=t[e],r=o.model,s=r.get(["axisLine","onZero"]),l=r.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)ze(a[l])&&(i=a[l]);else for(var c in a)if(a.hasOwnProperty(c)&&ze(a[c])&&!n[u(a[c])]){i=a[c];break}i&&(n[u(i)]=!0)}function u(t){return t.dim+"_"+t.index}}function ze(t){return t&&"category"!==t.type&&"time"!==t.type&&Object(Kt["f"])(t)}function Re(t,e){var o=t.getExtent(),n=o[0]+o[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var Ee=De,Ne=o("cb11"),Be=o("fab2"),Ve=o("6679"),Ze=Object(Bt["n"])();function We(t,e,o,n){var i=o.axis;if(!i.scale.isBlank()){var a=o.getModel("splitArea"),r=a.getModel("areaStyle"),s=r.get("color"),l=n.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,h=Ze(t).splitAreaColors,p=S["f"](),d=0;if(h)for(var f=0;f<c.length;f++){var g=h.get(c[f].tickValue);if(null!=g){d=(g+(u-1)*f)%u;break}}var m=i.toGlobalCoord(c[0].coord),y=r.getAreaStyle();s=S["r"](s)?s:[s];for(f=1;f<c.length;f++){var v=i.toGlobalCoord(c[f].coord),b=void 0,x=void 0,_=void 0,O=void 0;i.isHorizontal()?(b=m,x=l.y,_=v-b,O=l.height,m=b+_):(b=l.x,x=m,_=l.width,O=v-x,m=x+O);var C=c[f-1].tickValue;null!=C&&p.set(C,d),e.add(new Et["a"]({anid:null!=C?"area_"+C:null,shape:{x:b,y:x,width:_,height:O},style:S["i"]({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%u}Ze(t).splitAreaColors=p}}}function He(t){Ze(t).splitAreaColors=null}var Ge=["axisLine","axisTickLabel","axisName"],Fe=["splitArea","splitLine","minorSplitLine"],Ye=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.axisPointerClass="CartesianAxisPointer",o}return Object(j["a"])(e,t),e.prototype.render=function(e,o,n,i){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new _t["a"],this.group.add(this._axisGroup),e.get("show")){var r=e.getCoordSysModel(),s=ke["c"](r,e),l=new Be["a"](e,S["l"]({handleAutoShown:function(t){for(var o=r.coordinateSystem.getCartesians(),n=0;n<o.length;n++){var i=o[n].getOtherAxis(e.axis).type;if("value"===i||"log"===i)return!0}return!1}},s));S["j"](Ge,l.add,l),this._axisGroup.add(l.getGroup()),S["j"](Fe,(function(t){e.get([t,"show"])&&Xe[t](this,this._axisGroup,e,r)}),this),A["groupTransition"](a,this._axisGroup,e),t.prototype.render.call(this,e,o,n,i)}},e.prototype.remove=function(){He(this)},e.type="cartesianAxis",e}(Ve["a"]),Xe={splitLine:function(t,e,o,n){var i=o.axis;if(!i.scale.isBlank()){var a=o.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=S["r"](s)?s:[s];for(var l=n.coordinateSystem.getRect(),c=i.isHorizontal(),u=0,h=i.getTicksCoords({tickModel:a}),p=[],d=[],f=r.getLineStyle(),g=0;g<h.length;g++){var m=i.toGlobalCoord(h[g].coord);c?(p[0]=m,p[1]=l.y,d[0]=m,d[1]=l.y+l.height):(p[0]=l.x,p[1]=m,d[0]=l.x+l.width,d[1]=m);var y=u++%s.length,v=h[g].tickValue;e.add(new Ne["a"]({anid:null!=v?"line_"+h[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:S["i"]({stroke:s[y]},f),silent:!0}))}}},minorSplitLine:function(t,e,o,n){var i=o.axis,a=o.getModel("minorSplitLine"),r=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var u=[],h=[],p=r.getLineStyle(),d=0;d<c.length;d++)for(var f=0;f<c[d].length;f++){var g=i.toGlobalCoord(c[d][f].coord);l?(u[0]=g,u[1]=s.y,h[0]=g,h[1]=s.y+s.height):(u[0]=s.x,u[1]=g,h[0]=s.x+s.width,h[1]=g),e.add(new Ne["a"]({anid:"minor_line_"+c[d][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:p,silent:!0}))}},splitArea:function(t,e,o,n){We(t,e,o,n)}},Ue=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="xAxis",e}(Ye),qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=Ue.type,e}return Object(j["a"])(e,t),e.type="yAxis",e}(Ye),Je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Object(j["a"])(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new Et["a"]({shape:t.coordinateSystem.getRect(),style:Object(S["i"])({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Pt["a"]),$e={offset:0};function Ke(t){t.registerComponentView(Je),t.registerComponentModel(Rt),t.registerCoordinateSystem("cartesian2d",Ee),Jt(t,"x",Vt,$e),Jt(t,"y",Vt,$e),t.registerComponentView(Ue),t.registerComponentView(qe),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function Qe(t){Object(C["a"])(Ke),t.registerSeriesModel(bt),t.registerChartView(Dt),t.registerLayout(Object(It["a"])("scatter"))}var to=o("af5c"),eo=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.init=function(e,o,n){var i=Object(Xt["c"])(e);t.prototype.init.apply(this,arguments),oo(e,i)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),oo(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Lt["a"]);function oo(t,e){var o,n=t.cellSize;o=S["r"](n)?n:t.cellSize=[n,n],1===o.length&&(o[1]=o[0]);var i=S["E"]([0,1],(function(t){return Object(Xt["g"])(e,t)&&(o[t]="auto"),null!=o[t]&&"auto"!==o[t]}));Object(Xt["e"])(t,e,{type:"box",ignoreSize:i})}var no=eo,io=o("d498"),ao=o("76a5"),ro=o("7837"),so=o("eda2"),lo={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},co={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},uo=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.render=function(t,e,o){var n=this.group;n.removeAll();var i=t.coordinateSystem,a=i.getRangeInfo(),r=i.getOrient();this._renderDayRect(t,a,n),this._renderLines(t,a,r,n),this._renderYearText(t,a,r,n),this._renderMonthText(t,r,n),this._renderWeekText(t,a,r,n)},e.prototype._renderDayRect=function(t,e,o){for(var n=t.coordinateSystem,i=t.getModel("itemStyle").getItemStyle(),a=n.getCellWidth(),r=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,c=new Et["a"]({shape:{x:l[0],y:l[1],width:a,height:r},cursor:"default",style:i});o.add(c)}},e.prototype._renderLines=function(t,e,o,n){var i=this,a=t.coordinateSystem,r=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=r.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,u=0;c.time<=e.end.time;u++){p(c.formatedDate),0===u&&(c=a.getDateInfo(e.start.y+"-"+e.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}function p(e){i._firstDayOfMonth.push(a.getDateInfo(e)),i._firstDayPoints.push(a.dataToRect([e],!1).tl);var l=i._getLinePointsOfOneWeek(t,e,o);i._tlpoints.push(l[0]),i._blpoints.push(l[l.length-1]),s&&i._drawSplitline(l,r,n)}p(a.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,l,o),r,n),s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,l,o),r,n)},e.prototype._getEdgesPoints=function(t,e,o){var n=[t[0].slice(),t[t.length-1].slice()],i="horizontal"===o?0:1;return n[0][i]=n[0][i]-e/2,n[1][i]=n[1][i]+e/2,n},e.prototype._drawSplitline=function(t,e,o){var n=new io["a"]({z2:20,shape:{points:t},style:e});o.add(n)},e.prototype._getLinePointsOfOneWeek=function(t,e,o){for(var n=t.coordinateSystem,i=n.getDateInfo(e),a=[],r=0;r<7;r++){var s=n.getNextNDay(i.time,r),l=n.dataToRect([s.time],!1);a[2*s.day]=l.tl,a[2*s.day+1]=l["horizontal"===o?"bl":"tr"]}return a},e.prototype._formatterLabel=function(t,e){return"string"===typeof t&&t?so["e"](t,e):"function"===typeof t?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,o,n,i){var a=e[0],r=e[1],s=["center","bottom"];"bottom"===n?(r+=i,s=["center","top"]):"left"===n?a-=i:"right"===n?(a+=i,s=["center","top"]):r-=i;var l=0;return"left"!==n&&"right"!==n||(l=Math.PI/2),{rotation:l,x:a,y:r,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,o,n){var i=t.getModel("yearLabel");if(i.get("show")){var a=i.get("margin"),r=i.get("position");r||(r="horizontal"!==o?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,u="horizontal"===o?0:1,h={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],c],right:[s[u][0],c]},p=e.start.y;+e.end.y>+e.start.y&&(p=p+"-"+e.end.y);var d=i.get("formatter"),f={start:e.start.y,end:e.end.y,nameMap:p},g=this._formatterLabel(d,f),m=new ao["a"]({z2:30,style:Object(ro["b"])(i,{text:g})});m.attr(this._yearTextPositionControl(m,h[r],o,r,a)),n.add(m)}},e.prototype._monthTextPositionControl=function(t,e,o,n,i){var a="left",r="top",s=t[0],l=t[1];return"horizontal"===o?(l+=i,e&&(a="center"),"start"===n&&(r="bottom")):(s+=i,e&&(r="middle"),"start"===n&&(a="right")),{x:s,y:l,align:a,verticalAlign:r}},e.prototype._renderMonthText=function(t,e,o){var n=t.getModel("monthLabel");if(n.get("show")){var i=n.get("nameMap"),a=n.get("margin"),r=n.get("position"),s=n.get("align"),l=[this._tlpoints,this._blpoints];S["z"](i)&&(i=lo[i.toUpperCase()]||[]);var c="start"===r?0:1,u="horizontal"===e?0:1;a="start"===r?-a:a;for(var h="center"===s,p=0;p<l[c].length-1;p++){var d=l[c][p].slice(),f=this._firstDayOfMonth[p];if(h){var g=this._firstDayPoints[p];d[u]=(g[u]+l[0][p+1][u])/2}var m=n.get("formatter"),y=i[+f.m-1],v={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:y},b=this._formatterLabel(m,v),x=new ao["a"]({z2:30,style:S["l"](Object(ro["b"])(n,{text:b}),this._monthTextPositionControl(d,h,e,r,a))});o.add(x)}}},e.prototype._weekTextPositionControl=function(t,e,o,n,i){var a="center",r="middle",s=t[0],l=t[1],c="start"===o;return"horizontal"===e?(s=s+n+(c?1:-1)*i[0]/2,a=c?"right":"left"):(l=l+n+(c?1:-1)*i[1]/2,r=c?"bottom":"top"),{x:s,y:l,align:a,verticalAlign:r}},e.prototype._renderWeekText=function(t,e,o,n){var i=t.getModel("dayLabel");if(i.get("show")){var a=t.coordinateSystem,r=i.get("position"),s=i.get("nameMap"),l=i.get("margin"),c=a.getFirstDayOfWeek();S["z"](s)&&(s=co[s.toUpperCase()]||[]);var u=a.getNextNDay(e.end.time,7-e.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];l=lt["m"](l,Math.min(h[1],h[0])),"start"===r&&(u=a.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var p=0;p<7;p++){var d=a.getNextNDay(u,p),f=a.dataToRect([d.time],!1).center,g=p;g=Math.abs((p+c)%7);var m=new ao["a"]({z2:30,style:S["l"](Object(ro["b"])(i,{text:s[g]}),this._weekTextPositionControl(f,o,r,l,h))});n.add(m)}}},e.type="calendar",e}(Pt["a"]),ho=uo,po=864e5,fo=function(){function t(e,o,n){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){t=lt["l"](t);var e=t.getFullYear(),o=t.getMonth()+1,n=o<10?"0"+o:""+o,i=t.getDate(),a=i<10?"0"+i:""+i,r=t.getDay();return r=Math.abs((r+7-this.getFirstDayOfWeek())%7),{y:e+"",m:n,d:a,day:r,time:t.getTime(),formatedDate:e+"-"+n+"-"+a,date:t}},t.prototype.getNextNDay=function(t,e){return e=e||0,0===e||(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e)),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,n=["width","height"],i=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),r="horizontal"===this._orient?[o,7]:[7,o];S["j"]([0,1],(function(t){c(i,t)&&(a[n[t]]=i[t]*r[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Xt["d"](a,s);function c(t,e){return null!=t[e]&&"auto"!==t[e]}S["j"]([0,1],(function(t){c(i,t)||(i[t]=l[n[t]]/r[t])})),this._sw=i[0],this._sh=i[1]},t.prototype.dataToPoint=function(t,e){S["r"](t)&&(t=t[0]),null==e&&(e=!0);var o=this.getDateInfo(t),n=this._rangeInfo,i=o.formatedDate;if(e&&!(o.time>=n.start.time&&o.time<n.end.time+po))return[NaN,NaN];var a=o.day,r=this._getRangeInfo([n.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var o=this.dataToPoint(t,e);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,o=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(o,e-1,n):this._getDateByWeeksAndDay(e,o-1,n)},t.prototype.convertToPixel=function(t,e,o){var n=go(e);return n===this?n.dataToPoint(o):null},t.prototype.convertFromPixel=function(t,e,o){var n=go(e);return n===this?n.pointToData(o):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(S["r"](e)&&1===e.length&&(e=e[0]),S["r"](e))t=e;else{var o=e.toString();if(/^\d{4}$/.test(o)&&(t=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var n=this.getDateInfo(o),i=n.date;i.setMonth(i.getMonth()+1);var a=this.getNextNDay(i,-1);t=[n.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(t=[o,o])}if(!t)return e;var r=this._getRangeInfo(t);return r.start.time>r.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,o=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];o[0].time>o[1].time&&(e=!0,o.reverse());var n=Math.floor(o[1].time/po)-Math.floor(o[0].time/po)+1,i=new Date(o[0].time),a=i.getDate(),r=o[1].date.getDate();i.setDate(a+n-1);var s=i.getDate();if(s!==r){var l=i.getTime()-o[1].time>0?1:-1;while((s=i.getDate())!==r&&(i.getTime()-o[1].time)*l>0)n-=l,i.setDate(s-l)}var c=Math.floor((n+o[0].day+6)/7),u=e?1-c:c-1;return e&&o.reverse(),{range:[o[0].formatedDate,o[1].formatedDate],start:o[0],end:o[1],allDay:n,weeks:c,nthWeek:u,fweek:o[0].day,lweek:o[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,o){var n=this._getRangeInfo(o);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return null;var i=7*(t-1)-n.fweek+e,a=new Date(n.start.time);return a.setDate(+n.start.d+i),this.getDateInfo(a)},t.create=function(e,o){var n=[];return e.eachComponent("calendar",(function(i){var a=new t(i,e,o);n.push(a),i.coordinateSystem=a})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},t.dimensions=["time","value"],t}();function go(t){var e=t.calendarModel,o=t.seriesModel,n=e?e.coordinateSystem:o?o.coordinateSystem:null;return n}var mo=fo;function yo(t){t.registerComponentModel(no),t.registerComponentView(ho),t.registerCoordinateSystem("calendar",mo)}var vo=o("07fd"),bo=o("f72b"),xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(j["a"])(e,t),e.prototype.init=function(e,o,n){t.prototype.init.call(this,e,o,n),this._sourceManager=new bo["a"](this),Object(bo["b"])(this)},e.prototype.mergeOption=function(e,o){t.prototype.mergeOption.call(this,e,o),Object(bo["b"])(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:vo["a"]},e}(Lt["a"]),_o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(j["a"])(e,t),e.type="dataset",e}(Pt["a"]);function Oo(t){t.registerComponentModel(xo),t.registerComponentView(_o)}var Co=["x","y","radius","angle","single"],wo=["cartesian2d","polar","singleAxis"];function jo(t){var e=t.get("coordinateSystem");return Object(S["p"])(wo,e)>=0}function So(t){return t+"Axis"}function Mo(t,e){var o,n=Object(S["f"])(),i=[],a=Object(S["f"])();t.eachComponent({mainType:"dataZoom",query:e},(function(t){a.get(t.uid)||s(t)}));do{o=!1,t.eachComponent("dataZoom",r)}while(o);function r(t){!a.get(t.uid)&&l(t)&&(s(t),o=!0)}function s(t){a.set(t.uid,!0),i.push(t),c(t)}function l(t){var e=!1;return t.eachTargetAxis((function(t,o){var i=n.get(t);i&&i[o]&&(e=!0)})),e}function c(t){t.eachTargetAxis((function(t,e){(n.get(t)||n.set(t,[]))[e]=!0}))}return i}function Ao(t){var e=t.ecModel,o={infoList:[],infoMap:Object(S["f"])()};return t.eachTargetAxis((function(t,n){var i=e.getComponent(So(t),n);if(i){var a=i.getCoordSysModel();if(a){var r=a.uid,s=o.infoMap.get(r);s||(s={model:a,axisModels:[]},o.infoList.push(s),o.infoMap.set(r,s)),s.axisModels.push(i)}}})),o}var To=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),Io=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o._autoThrottle=!0,o._noTarget=!0,o._rangePropMode=["percent","percent"],o}return Object(j["a"])(e,t),e.prototype.init=function(t,e,o){var n=ko(t);this.settledOption=n,this.mergeDefaultAndTheme(t,o),this._doInit(n)},e.prototype.mergeOption=function(t){var e=ko(t);Object(S["F"])(this.option,t,!0),Object(S["F"])(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var o=this.settledOption;Object(S["j"])([["start","startValue"],["end","endValue"]],(function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=o[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(S["f"])(),o=this._fillSpecifiedTargetAxis(e);o?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(S["j"])(Co,(function(o){var n=this.getReferringComponents(So(o),Bt["a"]);if(n.specified){e=!0;var i=new To;Object(S["j"])(n.models,(function(t){i.add(t.componentIndex)})),t.set(o,i)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var o=this.ecModel,n=!0;if(n){var i="vertical"===e?"y":"x",a=o.findComponents({mainType:i+"Axis"});r(a,i)}if(n){a=o.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});r(a,"single")}function r(e,o){var i=e[0];if(i){var a=new To;if(a.add(i.componentIndex),t.set(o,a),n=!1,"x"===o||"y"===o){var r=i.getReferringComponents("grid",Bt["b"]).models[0];r&&Object(S["j"])(e,(function(t){i.componentIndex!==t.componentIndex&&r===t.getReferringComponents("grid",Bt["b"]).models[0]&&a.add(t.componentIndex)}))}}}n&&Object(S["j"])(Co,(function(e){if(n){var i=o.findComponents({mainType:So(e),filter:function(t){return"category"===t.get("type",!0)}});if(i[0]){var a=new To;a.add(i[0].componentIndex),t.set(e,a),n=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,o=this.get("rangeMode");Object(S["j"])([["start","startValue"],["end","endValue"]],(function(n,i){var a=null!=t[n[0]],r=null!=t[n[1]];a&&!r?e[i]="percent":!a&&r?e[i]="value":o?e[i]=o[i]:a&&(e[i]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,o){null==t&&(t=this.ecModel.getComponent(So(e),o))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(o,n){Object(S["j"])(o.indexList,(function(o){t.call(e,n,o)}))}))},e.prototype.getAxisProxy=function(t,e){var o=this.getAxisModel(t,e);if(o)return o.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var o=this._targetAxisInfoMap.get(t);if(o&&o.indexMap[e])return this.ecModel.getComponent(So(t),e)},e.prototype.setRawRange=function(t){var e=this.option,o=this.settledOption;Object(S["j"])([["start","startValue"],["end","endValue"]],(function(n){null==t[n[0]]&&null==t[n[1]]||(e[n[0]]=o[n[0]]=t[n[0]],e[n[1]]=o[n[1]]=t[n[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Object(S["j"])(["start","startValue","end","endValue"],(function(o){e[o]=t[o]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var o=this.findRepresentativeAxisProxy();return o?o.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,o=this._targetAxisInfoMap.keys(),n=0;n<o.length;n++)for(var i=o[n],a=this._targetAxisInfoMap.get(i),r=0;r<a.indexList.length;r++){var s=this.getAxisProxy(i,a.indexList[r]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(Lt["a"]);function ko(t){var e={};return Object(S["j"])(["start","end","startValue","endValue","throttle"],(function(o){t.hasOwnProperty(o)&&(e[o]=t[o])})),e}var Do=Io,Po=o("8918"),Lo=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="dataZoom.inside",e.defaultOption=Object(Po["d"])(Do.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Do),zo=Lo,Ro=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.render=function(t,e,o,n){this.dataZoomModel=t,this.ecModel=e,this.api=o},e.type="dataZoom",e}(Pt["a"]),Eo=Ro,No=o("ef6a"),Bo=o("6fd3"),Vo=o("607d"),Zo=o("1be7"),Wo="\0_ec_interaction_mutex";function Ho(t,e,o){var n=Yo(t);n[e]=o}function Go(t,e,o){var n=Yo(t),i=n[e];i===o&&(n[e]=null)}function Fo(t,e){return!!Yo(t)[e]}function Yo(t){return t[Wo]||(t[Wo]={})}Zo["c"]({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var Xo=function(t){function e(e){var o=t.call(this)||this;o._zr=e;var n=Object(S["c"])(o._mousedownHandler,o),i=Object(S["c"])(o._mousemoveHandler,o),a=Object(S["c"])(o._mouseupHandler,o),r=Object(S["c"])(o._mousewheelHandler,o),s=Object(S["c"])(o._pinchHandler,o);return o.enable=function(t,o){this.disable(),this._opt=Object(S["i"])(Object(S["d"])(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",r),e.on("pinch",s))},o.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",a),e.off("mousewheel",r),e.off("pinch",s)},o}return Object(j["a"])(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(Vo["d"](t)||t.target&&t.target.draggable)){var e=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,o)&&(this._x=e,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&Jo("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Fo(this._zr,"globalPan")){var e=t.offsetX,o=t.offsetY,n=this._x,i=this._y,a=e-n,r=o-i;this._x=e,this._y=o,this._opt.preventDefaultMouseMove&&Vo["g"](t.event),qo(this,"pan","moveOnMouseMove",t,{dx:a,dy:r,oldX:n,oldY:i,newX:e,newY:o,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Vo["d"](t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=Jo("zoomOnMouseWheel",t,this._opt),o=Jo("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,i=Math.abs(n),a=t.offsetX,r=t.offsetY;if(0!==n&&(e||o)){if(e){var s=i>3?1.4:i>1?1.2:1.1,l=n>0?s:1/s;Uo(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:a,originY:r,isAvailableBehavior:null})}if(o){var c=Math.abs(n),u=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);Uo(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:u,originX:a,originY:r,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!Fo(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;Uo(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Bo["a"]);function Uo(t,e,o,n,i){t.pointerChecker&&t.pointerChecker(n,i.originX,i.originY)&&(Vo["g"](n.event),qo(t,e,o,n,i))}function qo(t,e,o,n,i){i.isAvailableBehavior=Object(S["c"])(Jo,null,o,n),t.trigger(e,i)}function Jo(t,e,o){var n=o[t];return!t||n&&(!Object(S["z"])(n)||e.event[n+"Key"])}var $o=Xo,Ko=o("88b3"),Qo=Object(Bt["n"])();function tn(t,e,o){Qo(t).coordSysRecordMap.each((function(t){var n=t.dataZoomInfoMap.get(e.uid);n&&(n.getRange=o)}))}function en(t,e){for(var o=Qo(t).coordSysRecordMap,n=o.keys(),i=0;i<n.length;i++){var a=n[i],r=o.get(a),s=r.dataZoomInfoMap;if(s){var l=e.uid,c=s.get(l);c&&(s.removeKey(l),s.keys().length||on(o,r))}}}function on(t,e){if(e){t.removeKey(e.model.uid);var o=e.controller;o&&o.dispose()}}function nn(t,e){var o={model:e,containsPoint:Object(S["h"])(rn,e),dispatchAction:Object(S["h"])(an,t),dataZoomInfoMap:null,controller:null},n=o.controller=new $o(t.getZr());return Object(S["j"])(["pan","zoom","scrollMove"],(function(t){n.on(t,(function(e){var n=[];o.dataZoomInfoMap.each((function(i){if(e.isAvailableBehavior(i.model.option)){var a=(i.getRange||{})[t],r=a&&a(i.dzReferCoordSysInfo,o.model.mainType,o.controller,e);!i.model.get("disabled",!0)&&r&&n.push({dataZoomId:i.model.id,start:r[0],end:r[1]})}})),n.length&&o.dispatchAction(n)}))})),o}function an(t,e){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function rn(t,e,o,n){return t.coordinateSystem.containPoint([o,n])}function sn(t){var e,o="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each((function(t){var a=t.model,r=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");n[o+r]>n[o+e]&&(e=r),i=i&&a.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function ln(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var o=Qo(e),n=o.coordSysRecordMap||(o.coordSysRecordMap=Object(S["f"])());n.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var o=Ao(t);Object(S["j"])(o.infoList,(function(o){var i=o.model.uid,a=n.get(i)||n.set(i,nn(e,o.model)),r=a.dataZoomInfoMap||(a.dataZoomInfoMap=Object(S["f"])());r.set(t.uid,{dzReferCoordSysInfo:o,model:t,getRange:null})}))})),n.each((function(t){var e,o=t.controller,i=t.dataZoomInfoMap;if(i){var a=i.keys()[0];null!=a&&(e=i.get(a))}if(e){var r=sn(i);o.enable(r.controlType,r.opt),o.setPointerChecker(t.containsPoint),Ko["b"](t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else on(n,t)}))}))}var cn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Object(j["a"])(e,t),e.prototype.render=function(e,o,n){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),tn(n,e,{pan:Object(S["c"])(un.pan,this),zoom:Object(S["c"])(un.zoom,this),scrollMove:Object(S["c"])(un.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){en(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Eo),un={zoom:function(t,e,o,n){var i=this.range,a=i.slice(),r=t.axisModels[0];if(r){var s=pn[e](null,[n.originX,n.originY],r,o,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/n.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Object(No["a"])(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}},pan:hn((function(t,e,o,n,i,a){var r=pn[n]([a.oldX,a.oldY],[a.newX,a.newY],e,i,o);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength})),scrollMove:hn((function(t,e,o,n,i,a){var r=pn[n]([0,0],[a.scrollDelta,a.scrollDelta],e,i,o);return r.signal*(t[1]-t[0])*a.scrollDelta}))};function hn(t){return function(e,o,n,i){var a=this.range,r=a.slice(),s=e.axisModels[0];if(s){var l=t(r,s,e,o,n,i);return Object(No["a"])(l,r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}var pn={grid:function(t,e,o,n,i){var a=o.axis,r={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,o,n,i){var a=o.axis,r={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===o.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=c[1]-c[0],r.pixelStart=c[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,o,n,i){var a=o.axis,r=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}},dn=cn,fn=o("538f"),gn=S["j"],mn=lt["b"],yn=function(){function t(t,e,o,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=o}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(jo(e)){var o=So(this._dimName),n=e.getReferringComponents(o,Bt["b"]).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return S["d"](this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,o=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),r=[0,100],s=[],l=[];gn(["start","end"],(function(n,c){var u=t[n],h=t[n+"Value"];"percent"===a[c]?(null==u&&(u=r[c]),h=i.parse(lt["i"](u,r,o))):(e=!0,h=null==h?o[c]:i.parse(h),u=lt["i"](h,o,r)),l[c]=h,s[c]=u})),mn(l),mn(s);var c=this._minMaxSpan;function u(t,e,o,n,a){var r=a?"Span":"ValueSpan";Object(No["a"])(0,t,o,"all",c["min"+r],c["max"+r]);for(var s=0;s<2;s++)e[s]=lt["i"](t[s],o,n,!0),a&&(e[s]=i.parse(e[s]))}return e?u(l,s,o,r,!1):u(s,l,r,o,!0),{valueWindow:l,percentWindow:s}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=vn(this,this._dimName,e),this._updateMinMaxSpan();var o=this.calculateDataWindow(t.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var o=this._dimName,n=this.getTargetSeriesModels(),i=t.get("filterMode"),a=this._valueWindow;"none"!==i&&gn(n,(function(t){var e=t.getData(),n=e.mapDimensionsAll(o);n.length&&("weakFilter"===i?e.filterSelf((function(t){for(var o,i,r,s=0;s<n.length;s++){var l=e.get(n[s],t),c=!isNaN(l),u=l<a[0],h=l>a[1];if(c&&!u&&!h)return!0;c&&(r=!0),u&&(o=!0),h&&(i=!0)}return r&&o&&i})):gn(n,(function(o){if("empty"===i)t.setData(e=e.map(o,(function(t){return r(t)?t:NaN})));else{var n={};n[o]=a,e.selectRange(n)}})),gn(n,(function(t){e.setApproximateExtent(a,t)})))}))}function r(t){return t>=a[0]&&t<=a[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,o=this._dataExtent;gn(["min","max"],(function(n){var i=e.get(n+"Span"),a=e.get(n+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?i=lt["i"](o[0]+a,o,[0,100],!0):null!=i&&(a=lt["i"](i,[0,100],o,!0)-o[0]),t[n+"Span"]=i,t[n+"ValueSpan"]=a}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,o=this._valueWindow;if(e){var n=lt["d"](o,[0,500]);n=Math.min(n,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+o[0].toFixed(n)),100!==e[1]&&i.setDeterminedMinMax("max",+o[1].toFixed(n)),i.freeze()}},t}();function vn(t,e,o){var n=[1/0,-1/0];gn(o,(function(t){Object(Kt["j"])(n,t.getData(),e)}));var i=t.getAxisModel(),a=Object(fn["a"])(i.axis.scale,i,n).calculate();return[a.min,a.max]}var bn=yn,xn={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(o){o.eachTargetAxis((function(n,i){var a=t.getComponent(So(n),i);e(n,i,a,o)}))}))}e((function(t,e,o,n){o.__dzAxisProxy=null}));var o=[];e((function(e,n,i,a){i.__dzAxisProxy||(i.__dzAxisProxy=new bn(e,n,a,t),o.push(i.__dzAxisProxy))}));var n=Object(S["f"])();return Object(S["j"])(o,(function(t){Object(S["j"])(t.getTargetSeriesModels(),(function(t){n.set(t.uid,t)}))})),n},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,o){t.getAxisProxy(e,o).reset(t)})),t.eachTargetAxis((function(o,n){t.getAxisProxy(o,n).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var o=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setCalculatedRange({start:o[0],end:o[1],startValue:n[0],endValue:n[1]})}}))}},_n=xn;function On(t){t.registerAction("dataZoom",(function(t,e){var o=Mo(e,t);Object(S["j"])(o,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var Cn=!1;function wn(t){Cn||(Cn=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,_n),On(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function jn(t){wn(t),t.registerComponentModel(zo),t.registerComponentView(dn),ln(t)}var Sn=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Object(Po["d"])(Do.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Do),Mn=Sn,An=o("87b1"),Tn=o("dce8"),In=Et["a"],kn=7,Dn=1,Pn=30,Ln=7,zn="horizontal",Rn="vertical",En=5,Nn=["line","bar","candlestick","scatter"],Bn={easing:"cubicOut",duration:100},Vn=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o._displayables={},o}return Object(j["a"])(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(S["c"])(this._onBrush,this),this._onBrushEnd=Object(S["c"])(this._onBrushEnd,this)},e.prototype.render=function(e,o,n,i){if(t.prototype.render.apply(this,arguments),Ko["b"](this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Ko["a"](this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new _t["a"];this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,o=t.get("brushSelect"),n=o?Ln:0,i=this._findCoordRect(),a={width:e.getWidth(),height:e.getHeight()},r=this._orient===zn?{right:a.width-i.x-i.width,top:a.height-Pn-kn-n,width:i.width,height:Pn}:{right:kn,top:i.y,width:Pn,height:i.height},s=Xt["c"](t.option);Object(S["j"])(["right","top","width","height"],(function(t){"ph"===s[t]&&(s[t]=r[t])}));var l=Xt["d"](s,a);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===Rn&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,o=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),i=n&&n.get("inverse"),a=this._displayables.sliderGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(o!==zn||i?o===zn&&i?{scaleY:r?1:-1,scaleX:-1}:o!==Rn||i?{scaleY:r?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:r?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:r?1:-1,scaleX:1});var s=t.getBoundingRect([a]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,o=this._displayables.sliderGroup,n=t.get("brushSelect");o.add(new In({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var i=new In({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(S["c"])(this._onClickPanel,this)}),a=this.api.getZr();n?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),o.add(i)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,o=t.series,n=o.getRawData(),i=o.getShadowDim?o.getShadowDim():t.otherDim;if(null!=i){var a=n.getDataExtent(i),r=.3*(a[1]-a[0]);a=[a[0]-r,a[1]+r];var s,l=[0,e[1]],c=[0,e[0]],u=[[e[0],0],[0,0]],h=[],p=c[1]/(n.count()-1),d=0,f=Math.round(n.count()/e[0]);n.each([i],(function(t,e){if(f>0&&e%f)d+=p;else{var o=null==t||isNaN(t)||""===t,n=o?0:Object(lt["i"])(t,a,l,!0);o&&!s&&e?(u.push([u[u.length-1][0],0]),h.push([h[h.length-1][0],0])):!o&&s&&(u.push([d,0]),h.push([d,0])),u.push([d,n]),h.push([d,n]),d+=p,s=o}}));for(var g=this.dataZoomModel,m=0;m<3;m++){var y=v(1===m);this._displayables.sliderGroup.add(y),this._displayables.dataShadowSegs.push(y)}}}function v(t){var e=g.getModel(t?"selectedDataBackground":"dataBackground"),o=new _t["a"],n=new An["a"]({shape:{points:u},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new io["a"]({shape:{points:h},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return o.add(n),o.add(i),o}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var o,n=this.ecModel;return t.eachTargetAxis((function(i,a){var r=t.getAxisProxy(i,a).getTargetSeriesModels();Object(S["j"])(r,(function(t){if(!o&&!(!0!==e&&Object(S["p"])(Nn,t.get("type"))<0)){var r,s=n.getComponent(So(i),a).axis,l=Zn(i),c=t.coordinateSystem;null!=l&&c.getOtherAxis&&(r=c.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),o={thisAxis:s,series:t,thisDim:i,otherDim:l,otherAxisInverse:r}}}),this)}),this),o}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,o=e.handles=[null,null],n=e.handleLabels=[null,null],i=this._displayables.sliderGroup,a=this._size,r=this.dataZoomModel,s=this.api,l=r.get("borderRadius")||0,c=r.get("brushSelect"),u=e.filler=new In({silent:c,style:{fill:r.get("fillerColor")},textConfig:{position:"inside"}});i.add(u),i.add(new In({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:l},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:Dn,fill:"rgba(0,0,0,0)"}})),Object(S["j"])([0,1],(function(e){var a=r.get("handleIcon");!Ot["b"][a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=Object(Ot["a"])(a,-1,0,2,2,null,!0);s.attr({cursor:Wn(this._orient),draggable:!0,drift:Object(S["c"])(this._onDragMove,this,e),ondragend:Object(S["c"])(this._onDragEnd,this),onmouseover:Object(S["c"])(this._showDataInfo,this,!0),onmouseout:Object(S["c"])(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),c=r.get("handleSize");this._handleHeight=Object(lt["m"])(c,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(r.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(T["m"])(s);var u=r.get("handleColor");null!=u&&(s.style.fill=u),i.add(o[e]=s);var h=r.getModel("textStyle");t.add(n[e]=new ao["a"]({silent:!0,invisible:!0,style:Object(ro["b"])(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=u;if(c){var p=Object(lt["m"])(r.get("moveHandleSize"),a[1]),d=e.moveHandle=new Et["a"]({style:r.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:p}}),f=.8*p,g=e.moveHandleIcon=Object(Ot["a"])(r.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);g.silent=!0,g.y=a[1]+p/2-.5,d.ensureState("emphasis").style=r.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(a[1]/2,Math.max(p,10));h=e.moveZone=new Et["a"]({invisible:!0,shape:{y:a[1]-m,height:p+m}}),h.on("mouseover",(function(){s.enterEmphasis(d)})).on("mouseout",(function(){s.leaveEmphasis(d)})),i.add(d),i.add(g),i.add(h)}h.attr({draggable:!0,cursor:Wn(this._orient),drift:Object(S["c"])(this._onDragMove,this,"all"),ondragstart:Object(S["c"])(this._showDataInfo,this,!0),ondragend:Object(S["c"])(this._onDragEnd,this),onmouseover:Object(S["c"])(this._showDataInfo,this,!0),onmouseout:Object(S["c"])(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Object(lt["i"])(t[0],[0,100],e,!0),Object(lt["i"])(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var o=this.dataZoomModel,n=this._handleEnds,i=this._getViewExtent(),a=o.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];Object(No["a"])(e,n,i,o.get("zoomLock")?"all":t,null!=a.minSpan?Object(lt["i"])(a.minSpan,r,i,!0):null,null!=a.maxSpan?Object(lt["i"])(a.maxSpan,r,i,!0):null);var s=this._range,l=this._range=Object(lt["b"])([Object(lt["i"])(n[0],i,r,!0),Object(lt["i"])(n[1],i,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,o=this._handleEnds,n=Object(lt["b"])(o.slice()),i=this._size;Object(S["j"])([0,1],(function(t){var n=e.handles[t],a=this._handleHeight;n.attr({scaleX:a/2,scaleY:a/2,x:o[t]+(t?-1:1),y:i[1]/2-a/2})}),this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:i[1]});var a={x:n[0],width:n[1]-n[0]};e.moveHandle&&(e.moveHandle.setShape(a),e.moveZone.setShape(a),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",a.x+a.width/2));for(var r=e.dataShadowSegs,s=[0,n[0],n[1],i[0]],l=0;l<r.length;l++){var c=r[l],u=c.getClipPath();u||(u=new Et["a"],c.setClipPath(u)),u.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:i[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,o=this._displayables,n=o.handleLabels,i=this._orient,a=["",""];if(e.get("showDetail")){var r=e.findRepresentativeAxisProxy();if(r){var s=r.getAxisModel().axis,l=this._range,c=t?r.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:r.getDataValueWindow();a=[this._formatLabel(c[0],s),this._formatLabel(c[1],s)]}}var u=Object(lt["b"])(this._handleEnds.slice());function h(t){var e=A["getTransform"](o.handles[t].parent,this.group),r=A["transformDirection"](0===t?"right":"left",e),s=this._handleWidth/2+En,l=A["applyTransform"]([u[t]+(0===t?-s:s),this._size[1]/2],e);n[t].setStyle({x:l[0],y:l[1],verticalAlign:i===zn?"middle":r,align:i===zn?r:"center",text:a[t]})}h.call(this,0),h.call(this,1)},e.prototype._formatLabel=function(t,e){var o=this.dataZoomModel,n=o.get("labelFormatter"),i=o.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(i,20));return Object(S["u"])(n)?n(t,a):Object(S["z"])(n)?n.replace("{value}",a):a},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,o=e.handleLabels;o[0].attr("invisible",!t),o[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,o,n){this._dragging=!0,Vo["g"](n.event);var i=this._displayables.sliderGroup.getLocalTransform(),a=A["applyTransform"]([e,o],i,!0),r=this._updateInterval(t,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(o[0]<0||o[0]>e[0]||o[1]<0||o[1]>e[1])){var n=this._handleEnds,i=(n[0]+n[1])/2,a=this._updateInterval("all",o[0]-i);this._updateView(),a&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,o=t.offsetY;this._brushStart=new Tn["a"](e,o),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var o=e.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(o.width)<5)){var i=this._getViewExtent(),a=[0,100];this._range=Object(lt["b"])([Object(lt["i"])(o.x,i,a,!0),Object(lt["i"])(o.x+o.width,i,a,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Vo["g"](t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var o=this._displayables,n=this.dataZoomModel,i=o.brushRect;i||(i=o.brushRect=new In({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(i)),i.attr("ignore",!1);var a=this._brushStart,r=this._displayables.sliderGroup,s=r.transformCoordToLocal(t,e),l=r.transformCoordToLocal(a.x,a.y),c=this._size;s[0]=Math.max(Math.min(c[0],s[0]),0),i.setShape({x:l[0],y:0,width:s[0]-l[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Bn:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=Ao(this.dataZoomModel).infoList;if(!t&&e.length){var o=e[0].model.coordinateSystem;t=o.getRect&&o.getRect()}if(!t){var n=this.api.getWidth(),i=this.api.getHeight();t={x:.2*n,y:.2*i,width:.6*n,height:.6*i}}return t},e.type="dataZoom.slider",e}(Eo);function Zn(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function Wn(t){return"vertical"===t?"ns-resize":"ew-resize"}var Hn=Vn;function Gn(t){t.registerComponentModel(Mn),t.registerComponentView(Hn),wn(t)}function Fn(t){Object(C["a"])(jn),Object(C["a"])(Gn)}function Yn(t){Object(C["a"])(Ke),Object(C["a"])(to["a"])}var Xn=o("ff32"),Un=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="dataZoom.select",e}(Do),qn=Un,Jn=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="dataZoom.select",e}(Eo),$n=Jn;function Kn(t){t.registerComponentModel(qn),t.registerComponentView($n),wn(t)}var Qn=function(){function t(){}return t}(),ti={};function ei(t,e){ti[t]=e}function oi(t){return ti[t]}var ni=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;S["j"](this.option.feature,(function(t,o){var n=oi(o);n&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(e)),S["F"](t,n.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Lt["a"]),ii=ni,ai=o("4319"),ri=o("80f0"),si=o("7919"),li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.render=function(t,e,o,n){var i=this.group;if(i.removeAll(),t.get("show")){var a=+t.get("itemSize"),r=t.get("feature")||{},s=this._features||(this._features={}),l=[];S["j"](r,(function(t,e){l.push(e)})),new ri["a"](this._featureNames||[],l).add(c).update(c).remove(S["h"](c,null)).execute(),this._featureNames=l,si["a"](i,t,o),i.add(si["b"](i.getBoundingRect(),t)),i.eachChild((function(t){var e=t.__title,n=t.ensureState("emphasis"),r=n.textConfig||(n.textConfig={}),s=t.getTextContent(),l=s&&s.states.emphasis;if(l&&!S["u"](l)&&e){var c=l.style||(l.style={}),u=le["e"](e,ao["a"].makeFont(c)),h=t.x+i.x,p=t.y+i.y+a,d=!1;p+u.height>o.getHeight()&&(r.position="top",d=!0);var f=d?-5-u.height:a+8;h+u.width/2>o.getWidth()?(r.position=["100%",f],c.align="right"):h-u.width/2<0&&(r.position=[0,f],c.align="left")}}))}function c(i,a){var c,h=l[i],p=l[a],d=r[h],f=new ai["a"](d,t,t.ecModel);if(n&&null!=n.newTitle&&n.featureName===h&&(d.title=n.newTitle),h&&!p){if(ci(h))c={onclick:f.option.onclick,featureName:h};else{var g=oi(h);if(!g)return;c=new g}s[h]=c}else if(c=s[p],!c)return;c.uid=Object(Po["c"])("toolbox-feature"),c.model=f,c.ecModel=e,c.api=o;var m=c instanceof Qn;h||!p?!f.get("show")||m&&c.unusable?m&&c.remove&&c.remove(e,o):(u(f,c,h),f.setIconStatus=function(t,e){var o=this.option,n=this.iconPaths;o.iconStatus=o.iconStatus||{},o.iconStatus[t]=e,n[t]&&("emphasis"===e?T["o"]:T["z"])(n[t])},c instanceof Qn&&c.render&&c.render(f,e,o,n)):m&&c.dispose&&c.dispose(e,o)}function u(n,r,s){var l,c,u=n.getModel("iconStyle"),h=n.getModel(["emphasis","iconStyle"]),p=r instanceof Qn&&r.getIcons?r.getIcons():n.get("icon"),d=n.get("title")||{};"string"===typeof p?(l={},l[s]=p):l=p,"string"===typeof d?(c={},c[s]=d):c=d;var f=n.iconPaths={};S["j"](l,(function(s,l){var p=A["createIcon"](s,{},{x:-a/2,y:-a/2,width:a,height:a});p.setStyle(u.getItemStyle());var d=p.ensureState("emphasis");d.style=h.getItemStyle();var g=new ao["a"]({style:{text:c[l],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null},ignore:!0});p.setTextContent(g),A["setTooltipConfig"]({el:p,componentModel:t,itemName:l,formatterParamsExtra:{title:c[l]}}),p.__title=c[l],p.on("mouseover",(function(){var e=h.getItemStyle(),o="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";g.setStyle({fill:h.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),p.setTextConfig({position:h.get("textPosition")||o}),g.ignore=!t.get("showTitle"),Object(T["o"])(this)})).on("mouseout",(function(){"emphasis"!==n.get(["iconStatus",l])&&Object(T["z"])(this),g.hide()})),("emphasis"===n.get(["iconStatus",l])?T["o"]:T["z"])(p),i.add(p),p.on("click",S["c"](r.onclick,r,e,o,l)),f[l]=p}))}},e.prototype.updateView=function(t,e,o,n){S["j"](this._features,(function(t){t instanceof Qn&&t.updateView&&t.updateView(t.model,e,o,n)}))},e.prototype.remove=function(t,e){S["j"](this._features,(function(o){o instanceof Qn&&o.remove&&o.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){S["j"](this._features,(function(o){o instanceof Qn&&o.dispose&&o.dispose(t,e)}))},e.type="toolbox",e}(Pt["a"]);function ci(t){return 0===t.indexOf("my")}var ui=li,hi=o("22d1"),pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.onclick=function(t,e){var o=this.model,n=o.get("name")||t.get("title.0.text")||"echarts",i="svg"===e.getZr().painter.getType(),a=i?"svg":o.get("type",!0)||"png",r=e.getConnectedDataURL({type:a,backgroundColor:o.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")});if("function"!==typeof MouseEvent||!hi["a"].browser.newEdge&&(hi["a"].browser.ie||hi["a"].browser.edge))if(window.navigator.msSaveOrOpenBlob||i){var s=r.split(","),l=s[0].indexOf("base64")>-1,c=i?decodeURIComponent(s[1]):s[1];l&&(c=window.atob(c));var u=n+"."+a;if(window.navigator.msSaveOrOpenBlob){var h=c.length,p=new Uint8Array(h);while(h--)p[h]=c.charCodeAt(h);var d=new Blob([p]);window.navigator.msSaveOrOpenBlob(d,u)}else{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow,m=g.document;m.open("image/svg+xml","replace"),m.write(c),m.close(),g.focus(),m.execCommand("SaveAs",!0,u),document.body.removeChild(f)}}else{var y=o.get("lang"),v='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',b=window.open();b.document.write(v),b.document.title=n}else{var x=document.createElement("a");x.download=n+"."+a,x.target="_blank",x.href=r;var _=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(_)}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocale(["toolbox","saveAsImage","lang"])};return e},e}(Qn);pi.prototype.unusable=!hi["a"].canvasSupported;var di=pi,fi="__ec_magicType_stack__",gi=[["line","bar"],["stack"]],mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),o={};return S["j"](t.get("type"),(function(t){e[t]&&(o[t]=e[t])})),o},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,o){var n=this.model,i=n.get(["seriesIndex",o]);if(yi[o]){var a,r={series:[]},s=function(t){var e=t.subType,i=t.id,a=yi[o](e,i,t,n);a&&(S["i"](a,t.option),r.series.push(a));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===o||"bar"===o)){var l=s.getAxesByScale("ordinal")[0];if(l){var c=l.dim,u=c+"Axis",h=t.getReferringComponents(u,Bt["b"]).models[0],p=h.componentIndex;r[u]=r[u]||[];for(var d=0;d<=p;d++)r[u][p]=r[u][p]||{};r[u][p].boundaryGap="bar"===o}}};S["j"](gi,(function(t){S["p"](t,o)>=0&&S["j"](t,(function(t){n.setIconStatus(t,"normal")}))})),n.setIconStatus(o,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},s);var l=o;"stack"===o&&(a=S["F"]({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title),"emphasis"!==n.get(["iconStatus",o])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:r,newTitle:a,featureName:"magicType"})}},e}(Qn),yi={line:function(t,e,o,n){if("bar"===t)return S["F"]({id:e,type:"line",data:o.get("data"),stack:o.get("stack"),markPoint:o.get("markPoint"),markLine:o.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,o,n){if("line"===t)return S["F"]({id:e,type:"bar",data:o.get("data"),stack:o.get("stack"),markPoint:o.get("markPoint"),markLine:o.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,o,n){var i=o.get("stack")===fi;if("line"===t||"bar"===t)return n.setIconStatus("stack",i?"normal":"emphasis"),S["F"]({id:e,stack:i?"":fi},n.get(["option","stack"])||{},!0)}};Zo["c"]({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var vi=mi,bi=new Array(60).join("-"),xi="\t";function _i(t){var e={},o=[],n=[];return t.eachRawSeries((function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)o.push(t);else{var a=i.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:i.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else o.push(t)}})),{seriesGroupByCategoryAxis:e,other:o,meta:n}}function Oi(t){var e=[];return S["j"](t,(function(t,o){var n=t.categoryAxis,i=t.valueAxis,a=i.dim,r=[" "].concat(S["E"](t.series,(function(t){return t.name}))),s=[n.model.getCategories()];S["j"](t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(a),(function(t){return t})))}));for(var l=[r.join(xi)],c=0;c<s[0].length;c++){for(var u=[],h=0;h<s.length;h++)u.push(s[h][c]);l.push(u.join(xi))}e.push(l.join("\n"))})),e.join("\n\n"+bi+"\n\n")}function Ci(t){return S["E"](t,(function(t){var e=t.getRawData(),o=[t.name],n=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,i=arguments[t-1],a=e.getName(i),r=0;r<t-1;r++)n[r]=arguments[r];o.push((a?a+xi:"")+n.join(xi))})),o.join("\n")})).join("\n\n"+bi+"\n\n")}function wi(t){var e=_i(t);return{value:S["m"]([Oi(e.seriesGroupByCategoryAxis),Ci(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+bi+"\n\n"),meta:e.meta}}function ji(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Si(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(xi)>=0)return!0}var Mi=new RegExp("["+xi+"]+","g");function Ai(t){for(var e=t.split(/\n+/g),o=ji(e.shift()).split(Mi),n=[],i=S["E"](o,(function(t){return{name:t,data:[]}})),a=0;a<e.length;a++){var r=ji(e[a]).split(Mi);n.push(r.shift());for(var s=0;s<r.length;s++)i[s]&&(i[s].data[a]=r[s])}return{series:i,categories:n}}function Ti(t){for(var e=t.split(/\n+/g),o=ji(e.shift()),n=[],i=0;i<e.length;i++){var a=ji(e[i]);if(a){var r=a.split(Mi),s="",l=void 0,c=!1;isNaN(r[0])?(c=!0,s=r[0],r=r.slice(1),n[i]={name:s,value:[]},l=n[i].value):l=n[i]=[];for(var u=0;u<r.length;u++)l.push(+r[u]);1===l.length&&(c?n[i].value=l[0]:n[i]=l[0])}}return{name:o,data:n}}function Ii(t,e){var o=t.split(new RegExp("\n*"+bi+"\n*","g")),n={series:[]};return S["j"](o,(function(t,o){if(Si(t)){var i=Ai(t),a=e[o],r=a.axisDim+"Axis";a&&(n[r]=n[r]||[],n[r][a.axisIndex]={data:i.categories},n.series=n.series.concat(i.series))}else{i=Ti(t);n.series.push(i)}})),n}var ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.onclick=function(t,e){var o=e.getDom(),n=this.model;this._dom&&o.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",i.style.backgroundColor=n.get("backgroundColor")||"#fff";var a=document.createElement("h4"),r=n.get("lang")||[];a.innerHTML=r[0]||n.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=n.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var c=n.get("optionToContent"),u=n.get("contentToOption"),h=wi(t);if("function"===typeof c){var p=c(e.getOption());"string"===typeof p?s.innerHTML=p:S["t"](p)&&s.appendChild(p)}else s.appendChild(l),l.readOnly=n.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=n.get("textColor"),l.style.borderColor=n.get("textareaBorderColor"),l.style.backgroundColor=n.get("textareaColor"),l.value=h.value;var d=h.meta,f=document.createElement("div");f.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");g+=";background-color:"+n.get("buttonColor"),g+=";color:"+n.get("buttonTextColor");var v=this;function b(){o.removeChild(i),v._dom=null}Object(Vo["a"])(m,"click",b),Object(Vo["a"])(y,"click",(function(){if(null==u&&null!=c||null!=u&&null==c)b();else{var t;try{t="function"===typeof u?u(s,e.getOption()):Ii(l.value,d)}catch(o){throw b(),new Error("Data view format error "+o)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),b()}})),m.innerHTML=r[1],y.innerHTML=r[2],y.style.cssText=g,m.style.cssText=g,!n.get("readOnly")&&f.appendChild(y),f.appendChild(m),i.appendChild(a),i.appendChild(s),i.appendChild(f),s.style.height=o.clientHeight-80+"px",o.appendChild(i),this._dom=i},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(Qn);function Di(t,e){return S["E"](t,(function(t,o){var n=e&&e[o];if(S["y"](n)&&!S["r"](n)){var i=S["y"](t)&&!S["r"](t);i||(t={value:t});var a=null!=n.name&&null==t.name;return t=S["i"](t,n),a&&delete t.name,t}return t}))}Zo["c"]({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var o=[];S["j"](t.newOption.series,(function(t){var n=e.getSeriesByName(t.name)[0];if(n){var i=n.get("data");o.push({name:t.name,data:Di(t.data,i)})}else o.push(S["l"]({type:"scatter"},t))})),e.mergeOption(S["i"]({series:o},t.newOption))}));var Pi=ki,Li=S["j"],zi=Object(Bt["n"])();function Ri(t,e){var o=Vi(t);Li(e,(function(e,n){for(var i=o.length-1;i>=0;i--){var a=o[i];if(a[n])break}if(i<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();o[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}})),o.push(e)}function Ei(t){var e=Vi(t),o=e[e.length-1];e.length>1&&e.pop();var n={};return Li(o,(function(t,o){for(var i=e.length-1;i>=0;i--)if(t=e[i][o],t){n[o]=t;break}})),n}function Ni(t){zi(t).snapshots=null}function Bi(t){return Vi(t).length}function Vi(t){var e=zi(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.onclick=function(t,e){Ni(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])};return e},e}(Qn);Zo["c"]({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var Wi=Zi,Hi=!0,Gi=Math.min,Fi=Math.max,Yi=Math.pow,Xi=1e4,Ui=6,qi=6,Ji="globalPan",$i={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Ki={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Qi={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},ta=0,ea=function(t){function e(e){var o=t.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=e,o.group=new _t["a"],o._uid="brushController_"+ta++,Object(S["j"])(Pa,(function(t,e){this._handlers[e]=Object(S["c"])(t,this)}),o),o}return Object(j["a"])(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||Ho(e,Ji,this._uid),Object(S["j"])(this._handlers,(function(t,o){e.on(o,t)})),this._brushType=t.brushType,this._brushOption=Object(S["F"])(Object(S["d"])(Qi),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;Go(t,Ji,this._uid),Object(S["j"])(this._handlers,(function(e,o){t.off(o,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Object(S["j"])(t,(function(t){e[t.panelId]=Object(S["d"])(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Object(S["E"])(t,(function(t){return Object(S["F"])(Object(S["d"])(Qi),t,!0)}));var e="\0-brush-index-",o=this._covers,n=this._covers=[],i=this,a=this._creatingCover;return new ri["a"](o,t,s,r).add(l).update(l).remove(c).execute(),this;function r(t,o){return(null!=t.id?t.id:e+o)+"-"+t.brushType}function s(t,e){return r(t.__brushOption,e)}function l(e,r){var s=t[e];if(null!=r&&o[r]===a)n[e]=o[r];else{var l=n[e]=null!=r?(o[r].__brushOption=s,o[r]):na(i,oa(i,s));ra(i,l)}}function c(t){o[t]!==a&&i.group.remove(o[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),ua(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Bo["a"]);function oa(t,e){var o=Ra[e.brushType].createCover(t,e);return o.__brushOption=e,aa(o,e),t.group.add(o),o}function na(t,e){var o=sa(e);return o.endCreating&&(o.endCreating(t,e),aa(e,e.__brushOption)),e}function ia(t,e){var o=e.__brushOption;sa(e).updateCoverShape(t,e,o.range,o)}function aa(t,e){var o=e.z;null==o&&(o=Xi),t.traverse((function(t){t.z=o,t.z2=o}))}function ra(t,e){sa(e).updateCommon(t,e),ia(t,e)}function sa(t){return Ra[t.__brushOption.brushType]}function la(t,e,o){var n,i=t._panels;if(!i)return Hi;var a=t._transform;return Object(S["j"])(i,(function(t){t.isTargetByCursor(e,o,a)&&(n=t)})),n}function ca(t,e){var o=t._panels;if(!o)return Hi;var n=e.__brushOption.panelId;return null!=n?o[n]:Hi}function ua(t){var e=t._covers,o=e.length;return Object(S["j"])(e,(function(e){t.group.remove(e)}),t),e.length=0,!!o}function ha(t,e){var o=Object(S["E"])(t._covers,(function(t){var e=t.__brushOption,o=Object(S["d"])(e.range);return{brushType:e.brushType,panelId:e.panelId,range:o}}));t.trigger("brush",{areas:o,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function pa(t){var e=t._track;if(!e.length)return!1;var o=e[e.length-1],n=e[0],i=o[0]-n[0],a=o[1]-n[1],r=Yi(i*i+a*a,.5);return r>Ui}function da(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function fa(t,e,o,n){var i=new _t["a"];return i.add(new Et["a"]({name:"main",style:va(o),silent:!0,draggable:!0,cursor:"move",drift:Object(S["h"])(Ca,t,e,i,["n","s","w","e"]),ondragend:Object(S["h"])(ha,e,{isEnd:!0})})),Object(S["j"])(n,(function(o){i.add(new Et["a"]({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(S["h"])(Ca,t,e,i,o),ondragend:Object(S["h"])(ha,e,{isEnd:!0})}))})),i}function ga(t,e,o,n){var i=n.brushStyle.lineWidth||0,a=Fi(i,qi),r=o[0][0],s=o[1][0],l=r-i/2,c=s-i/2,u=o[0][1],h=o[1][1],p=u-a+i/2,d=h-a+i/2,f=u-r,g=h-s,m=f+i,y=g+i;ya(t,e,"main",r,s,f,g),n.transformable&&(ya(t,e,"w",l,c,a,y),ya(t,e,"e",p,c,a,y),ya(t,e,"n",l,c,m,a),ya(t,e,"s",l,d,m,a),ya(t,e,"nw",l,c,a,a),ya(t,e,"ne",p,c,a,a),ya(t,e,"sw",l,d,a,a),ya(t,e,"se",p,d,a,a))}function ma(t,e){var o=e.__brushOption,n=o.transformable,i=e.childAt(0);i.useStyle(va(o)),i.attr({silent:!n,cursor:n?"move":"default"}),Object(S["j"])([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(o){var i=e.childOfName(o.join("")),a=1===o.length?_a(t,o[0]):Oa(t,o);i&&i.attr({silent:!n,invisible:!n,cursor:n?Ki[a]+"-resize":null})}))}function ya(t,e,o,n,i,a,r){var s=e.childOfName(o);s&&s.setShape(Ma(Sa(t,e,[[n,i],[n+a,i+r]])))}function va(t){return Object(S["i"])({strokeNoScale:!0},t.brushStyle)}function ba(t,e,o,n){var i=[Gi(t,o),Gi(e,n)],a=[Fi(t,o),Fi(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function xa(t){return A["getTransform"](t.group)}function _a(t,e){var o={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=A["transformDirection"](o[e],xa(t));return n[i]}function Oa(t,e){var o=[_a(t,e[0]),_a(t,e[1])];return("e"===o[0]||"w"===o[0])&&o.reverse(),o.join("")}function Ca(t,e,o,n,i,a){var r=o.__brushOption,s=t.toRectRange(r.range),l=ja(e,i,a);Object(S["j"])(n,(function(t){var e=$i[t];s[e[0]][e[1]]+=l[e[0]]})),r.range=t.fromRectRange(ba(s[0][0],s[1][0],s[0][1],s[1][1])),ra(e,o),ha(e,{isEnd:!1})}function wa(t,e,o,n){var i=e.__brushOption.range,a=ja(t,o,n);Object(S["j"])(i,(function(t){t[0]+=a[0],t[1]+=a[1]})),ra(t,e),ha(t,{isEnd:!1})}function ja(t,e,o){var n=t.group,i=n.transformCoordToLocal(e,o),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function Sa(t,e,o){var n=ca(t,e);return n&&n!==Hi?n.clipPath(o,t._transform):Object(S["d"])(o)}function Ma(t){var e=Gi(t[0][0],t[1][0]),o=Gi(t[0][1],t[1][1]),n=Fi(t[0][0],t[1][0]),i=Fi(t[0][1],t[1][1]);return{x:e,y:o,width:n-e,height:i-o}}function Aa(t,e,o){if(t._brushType&&!za(t,e.offsetX,e.offsetY)){var n=t._zr,i=t._covers,a=la(t,e,o);if(!t._dragging)for(var r=0;r<i.length;r++){var s=i[r].__brushOption;if(a&&(a===Hi||s.panelId===a.panelId)&&Ra[s.brushType].contain(i[r],o[0],o[1]))return}a&&n.setCursorStyle("crosshair")}}function Ta(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Ia(t,e,o){return t.childOfName("main").contain(e,o)}function ka(t,e,o,n){var i,a=t._creatingCover,r=t._creatingPanel,s=t._brushOption;if(t._track.push(o.slice()),pa(t)||a){if(r&&!a){"single"===s.brushMode&&ua(t);var l=Object(S["d"])(s);l.brushType=Da(l.brushType,r),l.panelId=r===Hi?null:r.panelId,a=t._creatingCover=oa(t,l),t._covers.push(a)}if(a){var c=Ra[Da(t._brushType,r)],u=a.__brushOption;u.range=c.getCreatingRange(Sa(t,a,t._track)),n&&(na(t,a),c.updateCommon(t,a)),ia(t,a),i={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&la(t,e,o)&&ua(t)&&(i={isEnd:n,removeOnClick:!0});return i}function Da(t,e){return"auto"===t?e.defaultBrushType:t}var Pa={mousedown:function(t){if(this._dragging)La(this,t);else if(!t.target||!t.target.draggable){Ta(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var o=this._creatingPanel=la(this,t,e);o&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,o=t.offsetY,n=this.group.transformCoordToLocal(e,o);if(Aa(this,t,n),this._dragging){Ta(t);var i=ka(this,t,n,!1);i&&ha(this,i)}},mouseup:function(t){La(this,t)}};function La(t,e){if(t._dragging){Ta(e);var o=e.offsetX,n=e.offsetY,i=t.group.transformCoordToLocal(o,n),a=ka(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&ha(t,a)}}function za(t,e,o){var n=t._zr;return e<0||e>n.getWidth()||o<0||o>n.getHeight()}var Ra={lineX:Ea(0),lineY:Ea(1),rect:{createCover:function(t,e){function o(t){return t}return fa({toRectRange:o,fromRectRange:o},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=da(t);return ba(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,o,n){ga(t,e,o,n)},updateCommon:ma,contain:Ia},polygon:{createCover:function(t,e){var o=new _t["a"];return o.add(new io["a"]({name:"main",style:va(e),silent:!0})),o},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new An["a"]({name:"main",draggable:!0,drift:Object(S["h"])(wa,t,e),ondragend:Object(S["h"])(ha,t,{isEnd:!0})}))},updateCoverShape:function(t,e,o,n){e.childAt(0).setShape({points:Sa(t,e,o)})},updateCommon:ma,contain:Ia}};function Ea(t){return{createCover:function(e,o){return fa({toRectRange:function(e){var o=[e,[0,100]];return t&&o.reverse(),o},fromRectRange:function(e){return e[t]}},e,o,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var o=da(e),n=Gi(o[0][t],o[1][t]),i=Fi(o[0][t],o[1][t]);return[n,i]},updateCoverShape:function(e,o,n,i){var a,r=ca(e,o);if(r!==Hi&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,a];t&&l.reverse(),ga(e,o,l,i)},updateCommon:ma,contain:Ia}}var Na=ea,Ba={axisPointer:1,tooltip:1,brush:1};function Va(t,e,o){var n=e.getComponentByElement(t.topTarget),i=n&&n.coordinateSystem;return n&&n!==o&&!Ba.hasOwnProperty(n.mainType)&&i&&i.model!==o}function Za(t){return t=Ga(t),function(e){return A["clipPointsByRect"](e,t)}}function Wa(t,e){return t=Ga(t),function(o){var n=null!=e?e:o,i=n?t.width:t.height,a=n?t.x:t.y;return[a,a+(i||0)]}}function Ha(t,e,o){var n=Ga(t);return function(t,i){return n.contain(i[0],i[1])&&!Va(t,e,o)}}function Ga(t){return Qt["a"].create(t)}var Fa=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ya=function(){function t(t,e,o){var n=this;this._targetInfoList=[];var i=Ua(e,t);Object(S["j"])(qa,(function(t,e){(!o||!o.include||Object(S["p"])(o.include,e)>=0)&&t(i,n._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,o){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=Ka[t.brushType](0,o,e);t.__rangeOffset={offset:tr[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,o){Object(S["j"])(t,(function(t){var n=this.findTargetInfo(t,e);n&&!0!==n&&Object(S["j"])(n.coordSyses,(function(n){var i=Ka[t.brushType](1,n,t.range,!0);o(t,i.values,n,e)}))}),this)},t.prototype.setInputRanges=function(t,e){Object(S["j"])(t,(function(t){var o=this.findTargetInfo(t,e);if(t.range=t.range||[],o&&!0!==o){t.panelId=o.panelId;var n=Ka[t.brushType](0,o.coordSys,t.coordRange),i=t.__rangeOffset;t.range=i?tr[t.brushType](n.values,i.offset,or(n.xyMinMax,i.xyMinMax)):n.values}}),this)},t.prototype.makePanelOpts=function(t,e){return Object(S["E"])(this._targetInfoList,(function(o){var n=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:e?e(o):null,clipPath:Za(n),isTargetByCursor:Ha(n,t,o.coordSysModel),getLinearBrushOtherExtent:Wa(n)}}))},t.prototype.controlSeries=function(t,e,o){var n=this.findTargetInfo(t,o);return!0===n||n&&Object(S["p"])(n.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var o=this._targetInfoList,n=Ua(e,t),i=0;i<o.length;i++){var a=o[i],r=t.panelId;if(r){if(a.panelId===r)return a}else for(var s=0;s<Ja.length;s++)if(Ja[s](n,a))return a}return!0},t}();function Xa(t){return t[0]>t[1]&&t.reverse(),t}function Ua(t,e){return Object(Bt["r"])(t,e,{includeMainTypes:Fa})}var qa={grid:function(t,e){var o=t.xAxisModels,n=t.yAxisModels,i=t.gridModels,a=Object(S["f"])(),r={},s={};(o||n||i)&&(Object(S["j"])(o,(function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0})),Object(S["j"])(n,(function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0})),Object(S["j"])(i,(function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0})),a.each((function(t){var i=t.coordinateSystem,a=[];Object(S["j"])(i.getCartesians(),(function(t,e){(Object(S["p"])(o,t.getAxis("x").model)>=0||Object(S["p"])(n,t.getAxis("y").model)>=0)&&a.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:$a.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){Object(S["j"])(t.geoModels,(function(t){var o=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:o,coordSyses:[o],getPanelRect:$a.geo})}))}},Ja=[function(t,e){var o=t.xAxisModel,n=t.yAxisModel,i=t.gridModel;return!i&&o&&(i=o.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(t,e){var o=t.geoModel;return o&&o===e.geoModel}],$a={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(A["getTransform"](t)),e}},Ka={lineX:Object(S["h"])(Qa,0),lineY:Object(S["h"])(Qa,1),rect:function(t,e,o,n){var i=t?e.pointToData([o[0][0],o[1][0]],n):e.dataToPoint([o[0][0],o[1][0]],n),a=t?e.pointToData([o[0][1],o[1][1]],n):e.dataToPoint([o[0][1],o[1][1]],n),r=[Xa([i[0],a[0]]),Xa([i[1],a[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,o,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Object(S["E"])(o,(function(o){var a=t?e.pointToData(o,n):e.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}));return{values:a,xyMinMax:i}}};function Qa(t,e,o,n){var i=o.getAxis(["x","y"][t]),a=Xa(Object(S["E"])([0,1],(function(t){return e?i.coordToData(i.toLocalCoord(n[t]),!0):i.toGlobalCoord(i.dataToCoord(n[t]))}))),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}var tr={lineX:Object(S["h"])(er,0),lineY:Object(S["h"])(er,1),rect:function(t,e,o){return[[t[0][0]-o[0]*e[0][0],t[0][1]-o[0]*e[0][1]],[t[1][0]-o[1]*e[1][0],t[1][1]-o[1]*e[1][1]]]},polygon:function(t,e,o){return Object(S["E"])(t,(function(t,n){return[t[0]-o[0]*e[n][0],t[1]-o[1]*e[n][1]]}))}};function er(t,e,o,n){return[e[0]-n[t]*o[0],e[1]-n[t]*o[1]]}function or(t,e){var o=nr(t),n=nr(e),i=[o[0]/n[0],o[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function nr(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var ir=Ya,ar=o("2f1f"),rr=S["j"],sr=Object(Bt["o"])("toolbox-dataZoom_"),lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(j["a"])(e,t),e.prototype.render=function(t,e,o,n){this._brushController||(this._brushController=new Na(o.getZr()),this._brushController.on("brush",S["c"](this._onBrush,this)).mount()),pr(t,e,this,n,o),hr(t,e)},e.prototype.onclick=function(t,e,o){cr[o].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var o={},n=this.ecModel;this._brushController.updateCovers([]);var i=new ir(ur(this.model),n,{include:["grid"]});i.matchOutputRanges(e,n,(function(t,e,o){if("cartesian2d"===o.type){var n=t.brushType;"rect"===n?(a("x",o,e[0]),a("y",o,e[1])):a({lineX:"x",lineY:"y"}[n],o,e)}})),Ri(n,o),this._dispatchZoomAction(o)}function a(t,e,i){var a=e.getAxis(t),s=a.model,l=r(t,s,n),c=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(i=Object(No["a"])(0,i.slice(),a.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(o[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function r(t,e,o){var n;return o.eachComponent({mainType:"dataZoom",subType:"select"},(function(o){var i=o.getAxisModel(t,e.componentIndex);i&&(n=o)})),n}},e.prototype._dispatchZoomAction=function(t){var e=[];rr(t,(function(t,o){e.push(S["d"](t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(Qn),cr={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Ei(this.ecModel))}};function ur(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function hr(t,e){t.setIconStatus("back",Bi(e)>1?"emphasis":"normal")}function pr(t,e,o,n,i){var a=o._isZoomActive;n&&"takeGlobalCursor"===n.type&&(a="dataZoomSelect"===n.key&&n.dataZoomSelectActive),o._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var r=new ir(ur(t),e,{include:["grid"]}),s=r.makePanelOpts(i,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));o._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}Object(ar["b"])("dataZoom",(function(t){var e=t.getComponent("toolbox",0),o=["feature","dataZoom"];if(e&&null!=e.get(o)){var n=e.getModel(o),i=[],a=ur(n),r=Object(Bt["r"])(t,a);return rr(r.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),rr(r.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),i}function s(t,e,o){var a=t.componentIndex,r={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:sr+e+a};r[o]=a,i.push(r)}}));var dr=lr;function fr(t){t.registerComponentModel(ii),t.registerComponentView(ui),ei("saveAsImage",di),ei("magicType",vi),ei("dataView",Pi),ei("dataZoom",dr),ei("restore",Wi),Object(C["a"])(Kn)}var gr=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.layoutMode="box",o}return Object(j["a"])(e,t),e.prototype.init=function(t,e,o){this.mergeDefaultAndTheme(t,o),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,o=e.data||[],n=e.axisType,i=this._names=[];"category"===n?(t=[],Object(S["j"])(o,(function(e,o){var n,a=Object(Bt["e"])(Object(Bt["h"])(e),"");Object(S["y"])(e)?(n=Object(S["d"])(e),n.value=o):n=o,t.push(n),i.push(a)}))):t=o;var a={category:"ordinal",time:"time",value:"number"}[n]||"number",r=this._data=new X["a"]([{name:"value",type:a}],this);r.initData(t,i)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Lt["a"]),mr=gr,yr=o("38a2"),vr=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="timeline.slider",e.defaultOption=Object(Po["d"])(mr.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(mr);Object(S["G"])(vr,yr["a"].prototype);var br=vr,xr=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.type="timeline",e}(Pt["a"]),_r=xr,Or=function(t){function e(e,o,n,i){var a=t.call(this,e,o,n)||this;return a.type=i||"value",a}return Object(j["a"])(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(Ae),Cr=Or,wr=o("18c0"),jr=o("216a"),Sr=o("89e3"),Mr=o("217c"),Ar=Math.PI,Tr=Object(Bt["n"])(),Ir=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(j["a"])(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,o){if(this.model=t,this.api=o,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var n=this._layout(t,o),i=this._createGroup("_mainGroup"),a=this._createGroup("_labelGroup"),r=this._axis=this._createAxis(n,t);t.formatTooltip=function(t){var e=r.scale.getLabel({value:t});return Object(Mr["c"])("nameValue",{noName:!0,value:e})},Object(S["j"])(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](n,i,r,t)}),this),this._renderAxisLabel(n,a,r,t),this._position(n,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var o,n=t.get(["label","position"]),i=t.get("orient"),a=Dr(t,e);o=null==n||"auto"===n?"horizontal"===i?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-":Object(S["z"])(n)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]:n;var r,s,l,c={horizontal:"center",vertical:o>=0||"+"===o?"left":"right"},u={horizontal:o>=0||"+"===o?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Ar/2},p="vertical"===i?a.height:a.width,d=t.getModel("controlStyle"),f=d.get("show",!0),g=f?d.get("itemSize"):0,m=f?d.get("itemGap"):0,y=g+m,v=t.get(["label","rotate"])||0;v=v*Ar/180;var b=d.get("position",!0),x=f&&d.get("showPlayBtn",!0),_=f&&d.get("showPrevBtn",!0),O=f&&d.get("showNextBtn",!0),C=0,w=p;"left"===b||"bottom"===b?(x&&(r=[0,0],C+=y),_&&(s=[C,0],C+=y),O&&(l=[w-g,0],w-=y)):(x&&(r=[w-g,0],w-=y),_&&(s=[0,0],C+=y),O&&(l=[w-g,0],w-=y));var j=[C,w];return t.get("inverse")&&j.reverse(),{viewRect:a,mainLength:p,orient:i,rotation:h[i],labelRotation:v,labelPosOpt:o,labelAlign:t.get(["label","align"])||c[i],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[i],playPosition:r,prevBtnPosition:s,nextBtnPosition:l,axisExtent:j,controlSize:g,controlGap:m}},e.prototype._position=function(t,e){var o=this._mainGroup,n=this._labelGroup,i=t.viewRect;if("vertical"===t.orient){var a=oe["b"](),r=i.x,s=i.y+i.height;oe["h"](a,a,[-r,-s]),oe["f"](a,a,-Ar/2),oe["h"](a,a,[r,s]),i=i.clone(),i.applyTransform(a)}var l=m(i),c=m(o.getBoundingRect()),u=m(n.getBoundingRect()),h=[o.x,o.y],p=[n.x,n.y];p[0]=h[0]=l[0][0];var d=t.labelPosOpt;if(null==d||Object(S["z"])(d)){var f="+"===d?0:1;y(h,c,l,1,f),y(p,u,l,1,1-f)}else{f=d>=0?0:1;y(h,c,l,1,f),p[1]=h[1]+d}function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function y(t,e,o,n,i){t[n]+=o[n][i]-e[n][i]}o.setPosition(h),n.setPosition(p),o.rotation=n.rotation=t.rotation,g(o),g(n)},e.prototype._createAxis=function(t,e){var o=e.getData(),n=e.get("axisType"),i=kr(e,n);i.getTicks=function(){return o.mapArray(["value"],(function(t){return{value:t}}))};var a=o.getDataExtent("value");i.setExtent(a[0],a[1]),i.niceTicks();var r=new Cr("value",i,t.axisExtent,n);return r.model=e,r},e.prototype._createGroup=function(t){var e=this[t]=new _t["a"];return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,o,n){var i=o.getExtent();if(n.get(["lineStyle","show"])){var a=new Ne["a"]({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:Object(S["l"])({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(a);var r=this._progressLine=new Ne["a"]({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:Object(S["i"])({lineCap:"round",lineWidth:a.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(r)}},e.prototype._renderAxisTick=function(t,e,o,n){var i=this,a=n.getData(),r=o.scale.getTicks();this._tickSymbols=[],Object(S["j"])(r,(function(t){var r=o.dataToCoord(t.value),s=a.getItemModel(t.value),l=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),u=s.getModel(["progress","itemStyle"]),h={x:r,y:0,onclick:Object(S["c"])(i._changeTimeline,i,t.value)},p=Lr(s,l,e,h);p.ensureState("emphasis").style=c.getItemStyle(),p.ensureState("progress").style=u.getItemStyle(),Object(T["m"])(p);var d=Object(wt["a"])(p);s.get("tooltip")?(d.dataIndex=t.value,d.dataModel=n):d.dataIndex=d.dataModel=null,i._tickSymbols.push(p)}))},e.prototype._renderAxisLabel=function(t,e,o,n){var i=this,a=o.getLabelModel();if(a.get("show")){var r=n.getData(),s=o.getViewLabels();this._tickLabels=[],Object(S["j"])(s,(function(n){var a=n.tickValue,s=r.getItemModel(a),l=s.getModel("label"),c=s.getModel(["emphasis","label"]),u=s.getModel(["progress","label"]),h=o.dataToCoord(n.tickValue),p=new ao["a"]({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Object(S["c"])(i._changeTimeline,i,a),silent:!1,style:Object(ro["b"])(l,{text:n.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});p.ensureState("emphasis").style=Object(ro["b"])(c),p.ensureState("progress").style=Object(ro["b"])(u),e.add(p),Object(T["m"])(p),Tr(p).dataIndex=a,i._tickLabels.push(p)}))}},e.prototype._renderControl=function(t,e,o,n){var i=t.controlSize,a=t.rotation,r=n.getModel("controlStyle").getItemStyle(),s=n.getModel(["emphasis","controlStyle"]).getItemStyle(),l=n.getPlayState(),c=n.get("inverse",!0);function u(t,o,l,c){if(t){var u=Object(le["h"])(Object(S["L"])(n.get(["controlStyle",o+"BtnSize"]),i),i),h=[0,-u/2,u,u],p=Pr(n,o+"Icon",h,{x:t[0],y:t[1],originX:i/2,originY:0,rotation:c?-a:0,rectHover:!0,style:r,onclick:l});p.ensureState("emphasis").style=s,e.add(p),Object(T["m"])(p)}}u(t.nextBtnPosition,"next",Object(S["c"])(this._changeTimeline,this,c?"-":"+")),u(t.prevBtnPosition,"prev",Object(S["c"])(this._changeTimeline,this,c?"+":"-")),u(t.playPosition,l?"stop":"play",Object(S["c"])(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,o,n){var i=n.getData(),a=n.getCurrentIndex(),r=i.getItemModel(a).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=Object(S["c"])(s._handlePointerDrag,s),t.ondragend=Object(S["c"])(s._handlePointerDragend,s),zr(t,s._progressLine,a,o,n,!0)},onUpdate:function(t){zr(t,s._progressLine,a,o,n)}};this._currentPointer=Lr(r,r,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var o=this._toAxisCoord(t)[0],n=this._axis,i=lt["b"](n.getExtent().slice());o>i[1]&&(o=i[1]),o<i[0]&&(o=i[0]),this._currentPointer.x=o,this._currentPointer.markRedraw(),this._progressLine.shape.x2=o,this._progressLine.dirty();var a=this._findNearestTick(o),r=this.model;(e||a!==r.getCurrentIndex()&&r.get("realtime"))&&this._changeTimeline(a)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return A["applyTransform"](t,e,!0)},e.prototype._findNearestTick=function(t){var e,o=this.model.getData(),n=1/0,i=this._axis;return o.each(["value"],(function(o,a){var r=i.dataToCoord(o),s=Math.abs(r-t);s<n&&(n=s,e=a)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,o=this._tickLabels;if(e)for(var n=0;n<e.length;n++)e&&e[n]&&e[n].toggleState("progress",n<t);if(o)for(n=0;n<o.length;n++)o&&o[n]&&o[n].toggleState("progress",Tr(o[n]).dataIndex<=t)},e.type="timeline.slider",e}(_r);function kr(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new wr["a"]({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new jr["a"]({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Sr["a"]}}function Dr(t,e){return Xt["d"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function Pr(t,e,o,n){var i=n.style,a=A["createIcon"](t.get(["controlStyle",e]),n||{},new Qt["a"](o[0],o[1],o[2],o[3]));return i&&a.setStyle(i),a}function Lr(t,e,o,n,i,a){var r=e.get("color");if(i)i.setColor(r),o.add(i),a&&a.onUpdate(i);else{var s=t.get("symbol");i=Object(Ot["a"])(s,-1,-1,2,2,r),i.setStyle("strokeNoScale",!0),o.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),n=Object(S["F"])({rectHover:!0,z2:100},n,!0);var c=t.get("symbolSize");c=c instanceof Array?c.slice():[+c,+c],n.scaleX=c[0]/2,n.scaleY=c[1]/2;var u=t.get("symbolOffset");u&&(n.x=n.x||0,n.y=n.y||0,n.x+=lt["m"](u[0],c[0]),n.y+=lt["m"](u[1],c[1]));var h=t.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function zr(t,e,o,n,i,a){if(!t.dragging){var r=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get("value",o));if(a||!r.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:r.get("animationDuration",!0),easing:r.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var Rr=Ir;function Er(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e){var o=e.getComponent("timeline");return o&&null!=t.currentIndex&&(o.setCurrentIndex(t.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.setPlayState(!1)),e.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Object(S["i"])({currentIndex:o.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var o=e.getComponent("timeline");o&&null!=t.playState&&o.setPlayState(t.playState)}))}function Nr(t){var e=t&&t.timeline;S["r"](e)||(e=e?[e]:[]),S["j"](e,(function(t){t&&Br(t)}))}function Br(t){var e=t.type,o={number:"value",time:"time"};if(o[e]&&(t.axisType=o[e],delete t.type),Vr(t),Zr(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});Zr(n,"position")||(n.position=t.controlPosition),"none"!==n.position||Zr(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}S["j"](t.data||[],(function(t){S["y"](t)&&!S["r"](t)&&(!Zr(t,"value")&&Zr(t,"name")&&(t.value=t.name),Vr(t))}))}function Vr(t){var e=t.itemStyle||(t.itemStyle={}),o=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};S["j"](n,(function(t,e){a[e]||Zr(i,e)||(i[e]=t)})),o.label&&!Zr(n,"emphasis")&&(n.emphasis=o.label,delete o.label)}function Zr(t,e){return t.hasOwnProperty(e)}function Wr(t){t.registerComponentModel(br),t.registerComponentView(Rr),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),Er(t),t.registerPreprocessor(Nr)}var Hr=o("9394"),Gr=o("2da7"),Fr=o("abd2"),Yr=o("c436");Object(C["a"])([to["a"],yo,Oo,Fn,Yn,Xn["a"],fr,Wr,Hr["a"],Gr["a"],Fr["a"],Yr["a"],ft,gt["a"],mt["a"],Qe,w["a"]]);var Xr="4%",Ur="1%",qr="#2ed191",Jr="#19d189",$r="#f84960",Kr="#e33249",Qr="#00ff26",ts="#faba25",es="cyan",os="pink",ns=function(t){Object(c["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(s["a"])(this,o),t=e.apply(this,arguments),t.buyData=[],t.sellData=[],t.chartOptions={},t}return Object(l["a"])(o,[{key:"datasetChanged",value:function(){this.updateChart()}},{key:"plotConfigChanged",value:function(){this.initializeChartOptions()}},{key:"strategy",get:function(){return this.dataset?this.dataset.strategy:""}},{key:"pair",get:function(){return this.dataset?this.dataset.pair:""}},{key:"timeframe",get:function(){return this.dataset?this.dataset.timeframe:""}},{key:"timeframems",get:function(){return this.dataset?this.dataset.timeframe_ms:0}},{key:"datasetColumns",get:function(){return this.dataset?this.dataset.columns:[]}},{key:"hasData",get:function(){return null!==this.dataset&&"object"===Object(y["a"])(this.dataset)}},{key:"filteredTrades",get:function(){var t=this;return this.trades.filter((function(e){return e.pair===t.pair}))}},{key:"mounted",value:function(){this.initializeChartOptions()}},{key:"chartTitle",get:function(){return"".concat(this.strategy," - ").concat(this.pair," - ").concat(this.timeframe)}},{key:"initializeChartOptions",value:function(){this.chartOptions={title:[{text:this.chartTitle,show:!0}],backgroundColor:"rgba(0, 0, 0, 0)",useUTC:this.useUTC,animation:!1,legend:{data:["Candles","Volume","Buy","Sell"],right:"1%"},tooltip:{show:!0,trigger:"axis",backgroundColor:"rgba(80,80,80,0.7)",borderWidth:0,textStyle:{color:"#fff"},axisPointer:{type:"cross",lineStyle:{color:"#cccccc",width:1,opacity:1}},position:function(t,e,o,n,i){var a={top:60};return a[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,a}},axisPointer:{link:[{xAxisIndex:"all"}],label:{backgroundColor:"#777"}},xAxis:[{type:"time",scale:!0,boundaryGap:!1,axisLine:{onZero:!1},axisTick:{show:!0},axisLabel:{show:!0},position:"top",splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax"},{type:"time",gridIndex:1,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax"}],yAxis:[{scale:!0},{scale:!0,gridIndex:1,splitNumber:2,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}],dataZoom:[{type:"inside",xAxisIndex:[0,1],start:80,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:80,end:100}]},console.log("Initialized"),this.updateChart(!0)}},{key:"updateChart",value:function(){var t,e,o,n,i,r,s=this,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.hasData){null!==(t=this.chartOptions)&&void 0!==t&&t.title&&(this.chartOptions.title[0].text=this.chartTitle);var c=this.dataset.columns.findIndex((function(t){return"__date_ts"===t})),u=this.dataset.columns.findIndex((function(t){return"open"===t})),h=this.dataset.columns.findIndex((function(t){return"high"===t})),p=this.dataset.columns.findIndex((function(t){return"low"===t})),d=this.dataset.columns.findIndex((function(t){return"close"===t})),f=this.dataset.columns.findIndex((function(t){return"volume"===t})),g=this.dataset.columns.findIndex((function(t){return"_buy_signal_open"===t})),m=this.dataset.columns.findIndex((function(t){return"_sell_signal_open"===t})),y="subplots"in this.plotConfig?Object.keys(this.plotConfig.subplots).length:0;if(null!==(e=this.chartOptions)&&void 0!==e&&e.dataZoom&&Array.isArray(null===(o=this.chartOptions)||void 0===o?void 0:o.dataZoom))if(l){var b=100*(1-250/this.dataset.length);this.chartOptions.dataZoom.forEach((function(t,e){s.chartOptions&&s.chartOptions.dataZoom&&(s.chartOptions.dataZoom[e].start=b)}))}else this.chartOptions.dataZoom.forEach((function(t,e){s.chartOptions&&s.chartOptions.dataZoom&&(delete s.chartOptions.dataZoom[e].start,delete s.chartOptions.dataZoom[e].end)}));var x={dataset:{source:this.dataset.data},grid:[{left:Xr,right:Ur,bottom:"".concat(10*y+10,"%")},{left:Xr,right:Ur,bottom:"".concat(10*y+5,"%"),height:"10%"}],series:[{name:"Candles",type:"candlestick",barWidth:"80%",itemStyle:{color:qr,color0:$r,borderColor:Jr,borderColor0:Kr},encode:{x:c,y:[u,d,p,h]}},{name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,itemStyle:{color:"#777777"},large:!0,encode:{x:c,y:f}},{name:"Buy",type:"scatter",symbol:"triangle",symbolSize:10,xAxisIndex:0,yAxisIndex:0,itemStyle:{color:Qr},encode:{x:c,y:g}},{name:"Sell",type:"scatter",symbol:"diamond",symbolSize:8,xAxisIndex:0,yAxisIndex:0,itemStyle:{color:ts},encode:{x:c,y:m}}]};if(Object.assign(this.chartOptions,x),"main_plot"in this.plotConfig&&Object.entries(this.plotConfig.main_plot).forEach((function(t){var e=Object(a["a"])(t,2),o=e[0],n=e[1],i=s.dataset.columns.findIndex((function(t){return t===o}));if(i>1){var r;!Array.isArray(s.chartOptions.legend)&&null!==(r=s.chartOptions.legend)&&void 0!==r&&r.data&&s.chartOptions.legend.data.push(o);var l={name:o,type:n.type||"line",xAxisIndex:0,yAxisIndex:0,itemStyle:{color:n.color},encode:{x:c,y:i},showSymbol:!1};Array.isArray(s.chartOptions.series)&&s.chartOptions.series.push(l)}else console.log("element ".concat(o," for main plot not found in columns."))})),"subplots"in this.plotConfig){var _=2;Object.entries(this.plotConfig.subplots).forEach((function(t){var e=Object(a["a"])(t,2),o=e[0],n=e[1];Array.isArray(s.chartOptions.yAxis)&&s.chartOptions.yAxis.push({scale:!0,gridIndex:_,name:o,nameLocation:"middle",nameGap:60,axisLabel:{show:!0},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}),Array.isArray(s.chartOptions.xAxis)&&s.chartOptions.xAxis.push({type:"time",scale:!0,gridIndex:_,boundaryGap:!1,axisLine:{onZero:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},splitNumber:20}),Array.isArray(s.chartOptions.dataZoom)&&s.chartOptions.dataZoom.forEach((function(t){return t.xAxisIndex&&Array.isArray(t.xAxisIndex)?t.xAxisIndex.push(_):null})),s.chartOptions.grid&&Array.isArray(s.chartOptions.grid)&&s.chartOptions.grid.push({left:Xr,right:Ur,bottom:"".concat(8*_,"%"),height:"8%"}),Object.entries(n).forEach((function(t){var e=Object(a["a"])(t,2),o=e[0],n=e[1],i=s.dataset.columns.findIndex((function(t){return t===o}));if(i>0){var r;!Array.isArray(s.chartOptions.legend)&&null!==(r=s.chartOptions.legend)&&void 0!==r&&r.data&&s.chartOptions.legend.data.push(o);var l={name:o,type:n.type||"line",xAxisIndex:_,yAxisIndex:_,itemStyle:{color:n.color||v()},encode:{x:c,y:i},showSymbol:!1};s.chartOptions.series&&Array.isArray(s.chartOptions.series)&&s.chartOptions.series.push(l)}else console.log("element ".concat(o," was not found in the columns."))})),_+=1}))}this.chartOptions.grid&&Array.isArray(this.chartOptions.grid)&&(this.chartOptions.grid[this.chartOptions.grid.length-1].bottom="50px",delete this.chartOptions.grid[this.chartOptions.grid.length-1].top);var O=this.getTradeEntries(),C=O.trades,w=O.tradesClose,j="Trades",S="Trades Close";!Array.isArray(this.chartOptions.legend)&&null!==(n=this.chartOptions.legend)&&void 0!==n&&n.data&&this.chartOptions.legend.data.push(j);var M={name:j,type:"scatter",xAxisIndex:0,yAxisIndex:0,itemStyle:{color:es},data:C};Array.isArray(null===(i=this.chartOptions)||void 0===i?void 0:i.series)&&this.chartOptions.series.push(M),!Array.isArray(this.chartOptions.legend)&&null!==(r=this.chartOptions.legend)&&void 0!==r&&r.data&&this.chartOptions.legend.data.push(S);var A={name:S,type:"scatter",xAxisIndex:0,yAxisIndex:0,itemStyle:{color:os},data:w};this.chartOptions.series&&Array.isArray(this.chartOptions.series)&&this.chartOptions.series.push(A),console.log("chartOptions",this.chartOptions),this.$refs.candleChart.setOption(this.chartOptions)}}},{key:"getTradeEntries",value:function(){for(var t=[],e=[],o=0,n=this.filteredTrades.length;o<n;o+=1){var i=this.filteredTrades[o];i.open_timestamp>=this.dataset.data_start_ts&&i.open_timestamp<=this.dataset.data_stop_ts&&t.push([_(this.timeframems,i.open_timestamp),i.open_rate]),void 0!==i.close_timestamp&&i.close_timestamp<this.dataset.data_stop_ts&&i.close_timestamp>this.dataset.data_start_ts&&void 0!==i.close_date&&void 0!==i.close_rate&&e.push([_(this.timeframems,i.close_timestamp),i.close_rate])}return{trades:t,tradesClose:e}}}]),o}(p["d"]);Object(h["a"])([Object(p["c"])({required:!1,default:[]})],ns.prototype,"trades",void 0),Object(h["a"])([Object(p["c"])({required:!0})],ns.prototype,"dataset",void 0),Object(h["a"])([Object(p["c"])({default:!0})],ns.prototype,"useUTC",void 0),Object(h["a"])([Object(p["c"])({required:!0})],ns.prototype,"plotConfig",void 0),Object(h["a"])([Object(p["c"])({default:"dark"})],ns.prototype,"theme",void 0),Object(h["a"])([Object(p["e"])("dataset")],ns.prototype,"datasetChanged",null),Object(h["a"])([Object(p["e"])("plotConfig")],ns.prototype,"plotConfigChanged",null),ns=Object(h["a"])([Object(p["a"])({components:{"v-chart":O["a"]}})],ns);var is=ns,as=is,rs=(o("7d02"),o("2877")),ss=Object(rs["a"])(as,g,m,!1,null,"45287fd8",null),ls=ss.exports,cs=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.columns?o("div",[o("div",{staticClass:"col-mb-3 ml-2"},[o("b-form-radio-group",{staticClass:"w-100",attrs:{options:t.plotOptions,buttons:"","button-variant":"outline-primary"},model:{value:t.plotOption,callback:function(e){t.plotOption=e},expression:"plotOption"}})],1),"subplots"==t.plotOption?o("div",{staticClass:"col-mb-3"},[o("hr"),o("b-form-group",{attrs:{label:"Subplot","label-for":"FieldSel"}},[o("b-form-select",{attrs:{id:"FieldSel",options:t.subplots,"select-size":4},model:{value:t.selSubPlot,callback:function(e){t.selSubPlot=e},expression:"selSubPlot"}})],1)],1):t._e(),"subplots"==t.plotOption?o("b-form-group",{attrs:{label:"New subplot","label-for":"newSubplot"}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-input",{staticClass:"addPlot",attrs:{id:"newSubplot"},model:{value:t.newSubplotName,callback:function(e){t.newSubplotName=e},expression:"newSubplotName"}}),o("b-input-group-append",[o("b-button",{on:{click:t.addSubplot}},[t._v("+")]),t.selSubPlot?o("b-button",{on:{click:t.delSubplot}},[t._v("-")]):t._e()],1)],1)],1):t._e(),o("hr"),o("div",{staticClass:"row"},[o("b-form-group",{staticClass:"col",attrs:{label:"Add indicator","label-for":"indicatorSelector"}},[o("b-form-select",{attrs:{id:"indicatorSelector",options:t.columns,"select-size":4},model:{value:t.selAvailableIndicator,callback:function(e){t.selAvailableIndicator=e},expression:"selAvailableIndicator"}})],1),o("div",{staticClass:"col-1 px-0 text-center"},[o("b-button",{staticClass:"mt-5",attrs:{variant:"primary",title:"Add indicator to plot",size:"sm",disabled:!t.selAvailableIndicator},on:{click:t.addIndicator}},[t._v(" > ")]),o("b-button",{attrs:{variant:"primary",title:"Remove indicator to plot",size:"sm",disabled:!t.selIndicator},on:{click:t.removeIndicator}},[t._v(" < ")])],1),o("b-form-group",{staticClass:"col",attrs:{label:"Used indicators","label-for":"selectedIndicators"}},[o("b-form-select",{attrs:{id:"selectedIndicators",options:t.usedColumns,"select-size":4},model:{value:t.selIndicator,callback:function(e){t.selIndicator=e},expression:"selIndicator"}})],1)],1),o("b-form-group",{attrs:{label:"Choose type","label-for":"plotTypeSelector"}},[o("b-form-select",{attrs:{id:"plotTypeSelector",options:t.availableGraphTypes},model:{value:t.graphType,callback:function(e){t.graphType=e},expression:"graphType"}})],1),o("hr"),o("b-form-group",{attrs:{label:"Color","label-for":"colsel",size:"sm"}},[o("b-input-group",[o("b-input-group-prepend",[o("div",{staticClass:"colorbox mr-2",style:{"background-color":t.selColor}})]),o("b-form-input",{attrs:{id:"colsel",size:"sm"},model:{value:t.selColor,callback:function(e){t.selColor=e},expression:"selColor"}}),o("b-input-group-append",[o("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.newColor}},[t._v("↻")])],1)],1)],1),o("hr"),o("b-form-group",{attrs:{label:"Plot config name","label-for":"idPlotConfigName"}},[o("b-form-input",{attrs:{id:"idPlotConfigName",options:t.availableGraphTypes},model:{value:t.plotConfigName,callback:function(e){t.plotConfigName=e},expression:"plotConfigName"}})],1),o("div",{staticClass:"row"},[o("b-button",{staticClass:"ml-3",attrs:{variant:"primary",size:"sm"},on:{click:t.loadPlotConfig}},[t._v("Load")]),o("b-button",{staticClass:"ml-1",attrs:{variant:"primary",size:"sm"},on:{click:t.loadPlotConfigFromStrategy}},[t._v(" Load from strategy ")]),o("b-button",{staticClass:"ml-1",attrs:{variant:"primary",size:"sm","data-toggle":"tooltip",title:"Save configuration"},on:{click:t.savePlotConfig}},[t._v("Save")]),o("b-button",{staticClass:"ml-1",attrs:{id:"showButton",variant:"primary",size:"sm",title:"Show configuration for easy transfer to a strategy"},on:{click:function(e){t.showConfig=!t.showConfig}}},[t._v("Show")]),t.showConfig?o("b-button",{staticClass:"ml-1",attrs:{variant:"primary",size:"sm",title:"Load configuration from text box below"},on:{click:t.loadConfigFromString}},[t._v("Load from String")]):t._e()],1),t.showConfig?o("div",{staticClass:"col-mb-5 ml-2 mt-2"},[o("b-textarea",{staticClass:"textArea",attrs:{id:"TextArea",size:"sm",state:t.tempPlotConfigValid},model:{value:t.plotConfigJson,callback:function(e){t.plotConfigJson=e},expression:"plotConfigJson"}})],1):t._e()],1):t._e()},us=[],hs=o("1da1"),ps=o("ade3"),ds=(o("96cf"),o("bf67")),fs=Object(d["d"])("ftbot"),gs=function(t){Object(c["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(s["a"])(this,o),t=e.apply(this,arguments),t.plotConfig=f["a"],t.plotOptions=[{text:"Main Plot",value:"main_plot"},{text:"Subplots",value:"subplots"}],t.plotOption="main_plot",t.plotConfigName="default",t.newSubplotName="",t.selAvailableIndicator="",t.selIndicator="",t.graphType="line",t.availableGraphTypes=["line","bar","scatter"],t.showConfig=!1,t.selSubPlot="",t.tempPlotConfig=void 0,t.tempPlotConfigValid=!0,t.selColor=v(),t}return Object(l["a"])(o,[{key:"emitPlotConfig",value:function(){return this.plotConfig}},{key:"plotConfigJson",get:function(){return JSON.stringify(this.plotConfig,null,2)},set:function(t){try{this.tempPlotConfig=JSON.parse(t),this.tempPlotConfigValid=!0}catch(e){this.tempPlotConfigValid=!1}}},{key:"subplots",get:function(){return Object.keys(this.plotConfig.subplots)}},{key:"usedColumns",get:function(){return this.isMainPlot?Object.keys(this.plotConfig.main_plot):this.selSubPlot in this.plotConfig[this.plotOption]?Object.keys(this.plotConfig[this.plotOption][this.selSubPlot]):[]}},{key:"isMainPlot",get:function(){return"main_plot"===this.plotOption}},{key:"mounted",value:function(){this.plotConfig=this.value,this.plotConfigName=this.usedPlotConfigName}},{key:"newColor",value:function(){this.selColor=v()}},{key:"addIndicator",value:function(){console.log(this.plotConfig);var t=this.plotConfig;this.isMainPlot?(console.log("Adding ".concat(this.selAvailableIndicator," to MainPlot")),t[this.plotOption][this.selAvailableIndicator]={color:this.selColor,type:this.graphType}):(console.log("Adding ".concat(this.selAvailableIndicator," to ").concat(this.selSubPlot)),t[this.plotOption][this.selSubPlot][this.selAvailableIndicator]={color:this.selColor,type:this.graphType}),this.plotConfig=Object(r["a"])({},t),this.selAvailableIndicator="",this.newColor(),this.emitPlotConfig()}},{key:"removeIndicator",value:function(){console.log(this.plotConfig);var t=this.plotConfig;this.isMainPlot?(console.log("Removing ".concat(this.selIndicator," from MainPlot")),delete t[this.plotOption][this.selIndicator]):(console.log("Removing ".concat(this.selIndicator," from ").concat(this.selSubPlot)),delete t[this.plotOption][this.selSubPlot][this.selIndicator]),this.plotConfig=Object(r["a"])({},t),console.log(this.plotConfig),this.selIndicator="",this.emitPlotConfig()}},{key:"addSubplot",value:function(){this.plotConfig.subplots=Object(r["a"])(Object(r["a"])({},this.plotConfig.subplots),{},Object(ps["a"])({},this.newSubplotName,{})),this.selSubPlot=this.newSubplotName,this.newSubplotName="",console.log(this.plotConfig),this.emitPlotConfig()}},{key:"delSubplot",value:function(){delete this.plotConfig.subplots[this.selSubPlot],this.plotConfig.subplots=Object(r["a"])({},this.plotConfig.subplots)}},{key:"savePlotConfig",value:function(){this.saveCustomPlotConfig(Object(ps["a"])({},this.plotConfigName,this.plotConfig))}},{key:"loadPlotConfig",value:function(){this.plotConfig=Object(ds["b"])(this.plotConfigName),console.log(this.plotConfig),console.log("loading config"),this.emitPlotConfig()}},{key:"loadConfigFromString",value:function(){void 0!==this.tempPlotConfig&&this.tempPlotConfigValid&&(this.plotConfig=this.tempPlotConfig,this.emitPlotConfig())}},{key:"loadPlotConfigFromStrategy",value:function(){var t=Object(hs["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getStrategyPlotConfig();case 2:this.plotConfig=this.strategyPlotConfig,this.emitPlotConfig();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),o}(p["d"]);Object(h["a"])([Object(p["c"])({required:!0})],gs.prototype,"value",void 0),Object(h["a"])([Object(p["c"])({required:!0})],gs.prototype,"columns",void 0),Object(h["a"])([Object(p["b"])("input")],gs.prototype,"emitPlotConfig",null),Object(h["a"])([fs.Action],gs.prototype,"getStrategyPlotConfig",void 0),Object(h["a"])([fs.State],gs.prototype,"strategyPlotConfig",void 0),Object(h["a"])([fs.Mutation],gs.prototype,"saveCustomPlotConfig",void 0),Object(h["a"])([fs.Mutation],gs.prototype,"updatePlotConfigName",void 0),Object(h["a"])([fs.State("plotConfigName")],gs.prototype,"usedPlotConfigName",void 0),gs=Object(h["a"])([Object(p["a"])({})],gs);var ms,ys=gs,vs=ys,bs=(o("3cdd"),Object(rs["a"])(vs,cs,us,!1,null,"b343617c",null)),xs=bs.exports,_s=o("c865"),Os=Object(d["d"])("ftbot"),Cs=function(t){Object(c["a"])(o,t);var e=Object(u["a"])(o);function o(){var t;return Object(s["a"])(this,o),t=e.apply(this,arguments),t.pair="",t.useUTC=!0,t.plotConfig=Object(r["a"])({},f["a"]),t.plotConfigName="",t}return Object(l["a"])(o,[{key:"dataset",get:function(){return this.historicView?this.history["".concat(this.pair,"__").concat(this.timeframe)]:this.candleData["".concat(this.pair,"__").concat(this.timeframe)]}},{key:"datasetColumns",get:function(){return this.dataset?this.dataset.columns:[]}},{key:"hasDataset",get:function(){return!!this.dataset}},{key:"mounted",value:function(){this.plotConfigName=Object(ds["c"])(),this.plotConfig=Object(ds["b"])(this.plotConfigName)}},{key:"plotConfigChanged",value:function(){console.log("plotConfigChanged"),this.plotConfig=Object(ds["b"])(this.plotConfigName),this.setPlotConfigName(this.plotConfigName)}},{key:"showConfigurator",value:function(){this.$bvModal.show("plotConfiguratorModal")}},{key:"refresh",value:function(){this.pair&&this.timeframe&&(this.historicView?this.getPairHistory({pair:this.pair,timeframe:this.timeframe,timerange:this.timerange,strategy:this.strategy}):this.getPairCandles({pair:this.pair,timeframe:this.timeframe,limit:500}))}},{key:"watchAvailablePairs",value:function(){var t=this;if(!this.availablePairs.find((function(e){return e===t.pair}))){var e=Object(a["a"])(this.availablePairs,1);this.pair=e[0],this.refresh()}}},{key:"watchSelectedPair",value:function(){this.pair=this.selectedPair,this.refresh()}}]),o}(p["d"]);ms=_s["a"].selectedPair,Object(h["a"])([Object(p["c"])({required:!0})],Cs.prototype,"availablePairs",void 0),Object(h["a"])([Object(p["c"])({required:!0})],Cs.prototype,"timeframe",void 0),Object(h["a"])([Object(p["c"])({required:!1,default:function(){return[]}})],Cs.prototype,"trades",void 0),Object(h["a"])([Object(p["c"])({required:!1,default:!1})],Cs.prototype,"historicView",void 0),Object(h["a"])([Object(p["c"])({required:!1,default:!1})],Cs.prototype,"timerange",void 0),Object(h["a"])([Object(p["c"])({required:!1,default:!1})],Cs.prototype,"strategy",void 0),Object(h["a"])([d["b"]],Cs.prototype,"getChartTheme",void 0),Object(h["a"])([Os.State],Cs.prototype,"availablePlotConfigNames",void 0),Object(h["a"])([Os.Action],Cs.prototype,"setPlotConfigName",void 0),Object(h["a"])([Os.State],Cs.prototype,"candleData",void 0),Object(h["a"])([Os.State],Cs.prototype,"history",void 0),Object(h["a"])([Os.Getter],Cs.prototype,ms,void 0),Object(h["a"])([Os.Action],Cs.prototype,"getPairCandles",void 0),Object(h["a"])([Os.Action],Cs.prototype,"getPairHistory",void 0),Object(h["a"])([Object(p["e"])("availablePairs")],Cs.prototype,"watchAvailablePairs",null),Object(h["a"])([Object(p["e"])(_s["a"].selectedPair)],Cs.prototype,"watchSelectedPair",null),Cs=Object(h["a"])([Object(p["a"])({components:{CandleChart:ls,PlotConfigurator:xs}})],Cs);var ws=Cs,js=ws,Ss=Object(rs["a"])(js,n,i,!1,null,"076bba22",null);e["a"]=Ss.exports}}]);
//# sourceMappingURL=graph~trade.54d06ff3.js.map